(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ff={exports:{}},Pa={},mf={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),gg=Symbol.for("react.portal"),vg=Symbol.for("react.fragment"),_g=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Tg=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),ph=Symbol.iterator;function kg(t){return t===null||typeof t!="object"?null:(t=ph&&t[ph]||t["@@iterator"],typeof t=="function"?t:null)}var pf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gf=Object.assign,vf={};function ds(t,e,n){this.props=t,this.context=e,this.refs=vf,this.updater=n||pf}ds.prototype.isReactComponent={};ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _f(){}_f.prototype=ds.prototype;function Wu(t,e,n){this.props=t,this.context=e,this.refs=vf,this.updater=n||pf}var Uu=Wu.prototype=new _f;Uu.constructor=Wu;gf(Uu,ds.prototype);Uu.isPureReactComponent=!0;var gh=Array.isArray,yf=Object.prototype.hasOwnProperty,Bu={current:null},Mf={key:!0,ref:!0,__self:!0,__source:!0};function Pf(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yf.call(e,r)&&!Mf.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ti,type:t,key:i,ref:o,props:s,_owner:Bu.current}}function Cg(t,e){return{$$typeof:Ti,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ti}function xg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vh=/\/+/g;function Za(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xg(""+t.key):e.toString(36)}function oo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ti:case gg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Za(o,0):r,gh(s)?(n="",t!=null&&(n=t.replace(vh,"$&/")+"/"),oo(s,e,n,"",function(u){return u})):s!=null&&(qu(s)&&(s=Cg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",gh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Za(i,a);o+=oo(i,e,n,l,s)}else if(l=kg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Za(i,a++),o+=oo(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Li(t,e,n){if(t==null)return t;var r=[],s=0;return oo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ng(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},ao={transition:null},Eg={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ao,ReactCurrentOwner:Bu};function wf(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Li,forEach:function(t,e,n){Li(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Li(t,function(){e++}),e},toArray:function(t){return Li(t,function(e){return e})||[]},only:function(t){if(!qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ds;X.Fragment=vg;X.Profiler=yg;X.PureComponent=Wu;X.StrictMode=_g;X.Suspense=Sg;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eg;X.act=wf;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Bu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yf.call(e,l)&&!Mf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ti,type:t.type,key:s,ref:i,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:Pg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mg,_context:t},t.Consumer=t};X.createElement=Pf;X.createFactory=function(t){var e=Pf.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:wg,render:t}};X.isValidElement=qu;X.lazy=function(t){return{$$typeof:Ag,_payload:{_status:-1,_result:t},_init:Ng}};X.memo=function(t,e){return{$$typeof:Tg,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ao.transition;ao.transition={};try{t()}finally{ao.transition=e}};X.unstable_act=wf;X.useCallback=function(t,e){return et.current.useCallback(t,e)};X.useContext=function(t){return et.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return et.current.useDeferredValue(t)};X.useEffect=function(t,e){return et.current.useEffect(t,e)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return et.current.useMemo(t,e)};X.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};X.useRef=function(t){return et.current.useRef(t)};X.useState=function(t){return et.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";mf.exports=X;var ke=mf.exports;const bg=pg(ke);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=ke,Ig=Symbol.for("react.element"),Dg=Symbol.for("react.fragment"),Rg=Object.prototype.hasOwnProperty,jg=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fg={key:!0,ref:!0,__self:!0,__source:!0};function Sf(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Rg.call(e,r)&&!Fg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ig,type:t,key:i,ref:o,props:s,_owner:jg.current}}Pa.Fragment=Dg;Pa.jsx=Sf;Pa.jsxs=Sf;ff.exports=Pa;var D=ff.exports,xl={},Tf={exports:{}},yt={},Af={exports:{}},kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,b){var I=N.length;N.push(b);e:for(;0<I;){var V=I-1>>>1,B=N[V];if(0<s(B,b))N[V]=b,N[I]=B,I=V;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var b=N[0],I=N.pop();if(I!==b){N[0]=I;e:for(var V=0,B=N.length,De=B>>>1;V<De;){var Me=2*(V+1)-1,G=N[Me],K=Me+1,Ae=N[K];if(0>s(G,I))K<B&&0>s(Ae,G)?(N[V]=Ae,N[K]=I,V=K):(N[V]=G,N[Me]=I,V=Me);else if(K<B&&0>s(Ae,I))N[V]=Ae,N[K]=I,V=K;else break e}}return b}function s(N,b){var I=N.sortIndex-b.sortIndex;return I!==0?I:N.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,v=!1,M=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=N)r(u),b.sortIndex=b.expirationTime,e(l,b);else break;b=n(u)}}function S(N){if(v=!1,_(N),!m)if(n(l)!==null)m=!0,$(y);else{var b=n(u);b!==null&&z(S,b.startTime-N)}}function y(N,b){m=!1,v&&(v=!1,p(P),P=-1),f=!0;var I=d;try{for(_(b),h=n(l);h!==null&&(!(h.expirationTime>b)||N&&!A());){var V=h.callback;if(typeof V=="function"){h.callback=null,d=h.priorityLevel;var B=V(h.expirationTime<=b);b=t.unstable_now(),typeof B=="function"?h.callback=B:h===n(l)&&r(l),_(b)}else r(l);h=n(l)}if(h!==null)var De=!0;else{var Me=n(u);Me!==null&&z(S,Me.startTime-b),De=!1}return De}finally{h=null,d=I,f=!1}}var w=!1,T=null,P=-1,x=5,k=-1;function A(){return!(t.unstable_now()-k<x)}function C(){if(T!==null){var N=t.unstable_now();k=N;var b=!0;try{b=T(!0,N)}finally{b?O():(w=!1,T=null)}}else w=!1}var O;if(typeof g=="function")O=function(){g(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,W=R.port2;R.port1.onmessage=C,O=function(){W.postMessage(null)}}else O=function(){M(C,0)};function $(N){T=N,w||(w=!0,O())}function z(N,b){P=M(function(){N(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,$(y))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var b=3;break;default:b=d}var I=d;d=b;try{return N()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,b){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=d;d=N;try{return b()}finally{d=I}},t.unstable_scheduleCallback=function(N,b,I){var V=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?V+I:V):I=V,N){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=I+B,N={id:c++,callback:b,priorityLevel:N,startTime:I,expirationTime:B,sortIndex:-1},I>V?(N.sortIndex=I,e(u,N),n(l)===null&&N===n(u)&&(v?(p(P),P=-1):v=!0,z(S,I-V))):(N.sortIndex=B,e(l,N),m||f||(m=!0,$(y))),N},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(N){var b=d;return function(){var I=d;d=b;try{return N.apply(this,arguments)}finally{d=I}}}})(kf);Af.exports=kf;var Vg=Af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=ke,gt=Vg;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cf=new Set,Gs={};function wr(t,e){Kr(t,e),Kr(t+"Capture",e)}function Kr(t,e){for(Gs[t]=e,t=0;t<e.length;t++)Cf.add(e[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_h={},yh={};function zg(t){return Nl.call(yh,t)?!0:Nl.call(_h,t)?!1:$g.test(t)?yh[t]=!0:(_h[t]=!0,!1)}function Wg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ug(t,e,n,r){if(e===null||typeof e>"u"||Wg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Gu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hu,Gu);We[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hu,Gu);We[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hu,Gu);We[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qu(t,e,n,r){var s=We.hasOwnProperty(e)?We[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ug(e,n,s,r)&&(n=null),r||s===null?zg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mn=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),br=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),El=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Zu=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Ef=Symbol.for("react.offscreen"),Mh=Symbol.iterator;function ws(t){return t===null||typeof t!="object"?null:(t=Mh&&t[Mh]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,Ka;function Es(t){if(Ka===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ka=e&&e[1]||""}return`
`+Ka+t}var Ja=!1;function el(t,e){if(!t||Ja)return"";Ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ja=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Es(t):""}function Bg(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=el(t.type,!1),t;case 11:return t=el(t.type.render,!1),t;case 1:return t=el(t.type,!0),t;default:return""}}function Il(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Or:return"Fragment";case br:return"Portal";case El:return"Profiler";case Xu:return"StrictMode";case bl:return"Suspense";case Ol:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nf:return(t.displayName||"Context")+".Consumer";case xf:return(t._context.displayName||"Context")+".Provider";case Yu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zu:return e=t.displayName||null,e!==null?e:Il(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return Il(t(e))}catch{}}return null}function qg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Il(e);case 8:return e===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hg(t){var e=bf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zi(t){t._valueTracker||(t._valueTracker=Hg(t))}function Of(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dl(t,e){var n=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ph(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function If(t,e){e=e.checked,e!=null&&Qu(t,"checked",e,!1)}function Rl(t,e){If(t,e);var n=Vn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&jl(t,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jl(t,e,n){(e!=="number"||xo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bs=Array.isArray;function qr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(bs(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vn(n)}}function Df(t,e){var n=Vn(e.value),r=Vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Th(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wi,jf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gg=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(t){Gg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ds[e]=Ds[t]})});function Ff(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ds.hasOwnProperty(t)&&Ds[t]?(""+e).trim():e+"px"}function Vf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ff(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Qg=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,e){if(e){if(Qg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function $l(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wl=null,Hr=null,Gr=null;function Ah(t){if(t=Ci(t)){if(typeof Wl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ka(e),Wl(t.stateNode,t.type,e))}}function Lf(t){Hr?Gr?Gr.push(t):Gr=[t]:Hr=t}function $f(){if(Hr){var t=Hr,e=Gr;if(Gr=Hr=null,Ah(t),e)for(t=0;t<e.length;t++)Ah(e[t])}}function zf(t,e){return t(e)}function Wf(){}var tl=!1;function Uf(t,e,n){if(tl)return t(e,n);tl=!0;try{return zf(t,e,n)}finally{tl=!1,(Hr!==null||Gr!==null)&&(Wf(),$f())}}function Xs(t,e){var n=t.stateNode;if(n===null)return null;var r=ka(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Ul=!1;if(an)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Ul=!1}function Xg(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rs=!1,No=null,Eo=!1,Bl=null,Yg={onError:function(t){Rs=!0,No=t}};function Zg(t,e,n,r,s,i,o,a,l){Rs=!1,No=null,Xg.apply(Yg,arguments)}function Kg(t,e,n,r,s,i,o,a,l){if(Zg.apply(this,arguments),Rs){if(Rs){var u=No;Rs=!1,No=null}else throw Error(E(198));Eo||(Eo=!0,Bl=u)}}function Sr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kh(t){if(Sr(t)!==t)throw Error(E(188))}function Jg(t){var e=t.alternate;if(!e){if(e=Sr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kh(s),t;if(i===r)return kh(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function qf(t){return t=Jg(t),t!==null?Hf(t):null}function Hf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hf(t);if(e!==null)return e;t=t.sibling}return null}var Gf=gt.unstable_scheduleCallback,Ch=gt.unstable_cancelCallback,ev=gt.unstable_shouldYield,tv=gt.unstable_requestPaint,Se=gt.unstable_now,nv=gt.unstable_getCurrentPriorityLevel,Ju=gt.unstable_ImmediatePriority,Qf=gt.unstable_UserBlockingPriority,bo=gt.unstable_NormalPriority,rv=gt.unstable_LowPriority,Xf=gt.unstable_IdlePriority,wa=null,Gt=null;function sv(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(wa,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:av,iv=Math.log,ov=Math.LN2;function av(t){return t>>>=0,t===0?32:31-(iv(t)/ov|0)|0}var Ui=64,Bi=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Os(a):(i&=o,i!==0&&(r=Os(i)))}else o=n&~s,o!==0?r=Os(o):i!==0&&(r=Os(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ft(e),s=1<<n,r|=t[n],e&=~s;return r}function lv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ft(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=lv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ql(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yf(){var t=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),t}function nl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ai(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ft(e),t[e]=n}function cv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ft(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ec(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ft(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ee=0;function Zf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kf,tc,Jf,em,tm,Hl=!1,qi=[],Nn=null,En=null,bn=null,Ys=new Map,Zs=new Map,An=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xh(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(e.pointerId)}}function Ts(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ci(e),e!==null&&tc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dv(t,e,n,r,s){switch(e){case"focusin":return Nn=Ts(Nn,t,e,n,r,s),!0;case"dragenter":return En=Ts(En,t,e,n,r,s),!0;case"mouseover":return bn=Ts(bn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ys.set(i,Ts(Ys.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zs.set(i,Ts(Zs.get(i)||null,t,e,n,r,s)),!0}return!1}function nm(t){var e=nr(t.target);if(e!==null){var n=Sr(e);if(n!==null){if(e=n.tag,e===13){if(e=Bf(n),e!==null){t.blockedOn=e,tm(t.priority,function(){Jf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zl=r,n.target.dispatchEvent(r),zl=null}else return e=Ci(n),e!==null&&tc(e),t.blockedOn=n,!1;e.shift()}return!0}function Nh(t,e,n){lo(t)&&n.delete(e)}function fv(){Hl=!1,Nn!==null&&lo(Nn)&&(Nn=null),En!==null&&lo(En)&&(En=null),bn!==null&&lo(bn)&&(bn=null),Ys.forEach(Nh),Zs.forEach(Nh)}function As(t,e){t.blockedOn===e&&(t.blockedOn=null,Hl||(Hl=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,fv)))}function Ks(t){function e(s){return As(s,t)}if(0<qi.length){As(qi[0],t);for(var n=1;n<qi.length;n++){var r=qi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nn!==null&&As(Nn,t),En!==null&&As(En,t),bn!==null&&As(bn,t),Ys.forEach(e),Zs.forEach(e),n=0;n<An.length;n++)r=An[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<An.length&&(n=An[0],n.blockedOn===null);)nm(n),n.blockedOn===null&&An.shift()}var Qr=mn.ReactCurrentBatchConfig,Io=!0;function mv(t,e,n,r){var s=ee,i=Qr.transition;Qr.transition=null;try{ee=1,nc(t,e,n,r)}finally{ee=s,Qr.transition=i}}function pv(t,e,n,r){var s=ee,i=Qr.transition;Qr.transition=null;try{ee=4,nc(t,e,n,r)}finally{ee=s,Qr.transition=i}}function nc(t,e,n,r){if(Io){var s=Gl(t,e,n,r);if(s===null)dl(t,e,r,Do,n),xh(t,r);else if(dv(s,t,e,n,r))r.stopPropagation();else if(xh(t,r),e&4&&-1<hv.indexOf(t)){for(;s!==null;){var i=Ci(s);if(i!==null&&Kf(i),i=Gl(t,e,n,r),i===null&&dl(t,e,r,Do,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dl(t,e,r,null,n)}}var Do=null;function Gl(t,e,n,r){if(Do=null,t=Ku(r),t=nr(t),t!==null)if(e=Sr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Do=t,null}function rm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nv()){case Ju:return 1;case Qf:return 4;case bo:case rv:return 16;case Xf:return 536870912;default:return 16}default:return 16}}var Cn=null,rc=null,uo=null;function sm(){if(uo)return uo;var t,e=rc,n=e.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return uo=s.slice(t,1<r?1-r:void 0)}function co(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Eh(){return!1}function Mt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hi:Eh,this.isPropagationStopped=Eh,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=Mt(fs),ki=pe({},fs,{view:0,detail:0}),gv=Mt(ki),rl,sl,ks,Sa=pe({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ks&&(ks&&t.type==="mousemove"?(rl=t.screenX-ks.screenX,sl=t.screenY-ks.screenY):sl=rl=0,ks=t),rl)},movementY:function(t){return"movementY"in t?t.movementY:sl}}),bh=Mt(Sa),vv=pe({},Sa,{dataTransfer:0}),_v=Mt(vv),yv=pe({},ki,{relatedTarget:0}),il=Mt(yv),Mv=pe({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=Mt(Mv),wv=pe({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sv=Mt(wv),Tv=pe({},fs,{data:0}),Oh=Mt(Tv),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cv[t])?!!e[t]:!1}function ic(){return xv}var Nv=pe({},ki,{key:function(t){if(t.key){var e=Av[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=co(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?co(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?co(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ev=Mt(Nv),bv=pe({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=Mt(bv),Ov=pe({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),Iv=Mt(Ov),Dv=pe({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Mt(Dv),jv=pe({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=Mt(jv),Vv=[9,13,27,32],oc=an&&"CompositionEvent"in window,js=null;an&&"documentMode"in document&&(js=document.documentMode);var Lv=an&&"TextEvent"in window&&!js,im=an&&(!oc||js&&8<js&&11>=js),Dh=String.fromCharCode(32),Rh=!1;function om(t,e){switch(t){case"keyup":return Vv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function $v(t,e){switch(t){case"compositionend":return am(e);case"keypress":return e.which!==32?null:(Rh=!0,Dh);case"textInput":return t=e.data,t===Dh&&Rh?null:t;default:return null}}function zv(t,e){if(Ir)return t==="compositionend"||!oc&&om(t,e)?(t=sm(),uo=rc=Cn=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return im&&e.locale!=="ko"?null:e.data;default:return null}}var Wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wv[t.type]:e==="textarea"}function lm(t,e,n,r){Lf(r),e=Ro(e,"onChange"),0<e.length&&(n=new sc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fs=null,Js=null;function Uv(t){ym(t,0)}function Ta(t){var e=jr(t);if(Of(e))return t}function Bv(t,e){if(t==="change")return e}var um=!1;if(an){var ol;if(an){var al="oninput"in document;if(!al){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),al=typeof Fh.oninput=="function"}ol=al}else ol=!1;um=ol&&(!document.documentMode||9<document.documentMode)}function Vh(){Fs&&(Fs.detachEvent("onpropertychange",cm),Js=Fs=null)}function cm(t){if(t.propertyName==="value"&&Ta(Js)){var e=[];lm(e,Js,t,Ku(t)),Uf(Uv,e)}}function qv(t,e,n){t==="focusin"?(Vh(),Fs=e,Js=n,Fs.attachEvent("onpropertychange",cm)):t==="focusout"&&Vh()}function Hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ta(Js)}function Gv(t,e){if(t==="click")return Ta(e)}function Qv(t,e){if(t==="input"||t==="change")return Ta(e)}function Xv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:Xv;function ei(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nl.call(e,s)||!Lt(t[s],e[s]))return!1}return!0}function Lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $h(t,e){var n=Lh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lh(n)}}function hm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dm(){for(var t=window,e=xo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xo(t.document)}return e}function ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yv(t){var e=dm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hm(n.ownerDocument.documentElement,n)){if(r!==null&&ac(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$h(n,i);var o=$h(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zv=an&&"documentMode"in document&&11>=document.documentMode,Dr=null,Ql=null,Vs=null,Xl=!1;function zh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||Dr==null||Dr!==xo(r)||(r=Dr,"selectionStart"in r&&ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&ei(Vs,r)||(Vs=r,r=Ro(Ql,"onSelect"),0<r.length&&(e=new sc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dr)))}function Gi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},ll={},fm={};an&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Aa(t){if(ll[t])return ll[t];if(!Rr[t])return t;var e=Rr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fm)return ll[t]=e[n];return t}var mm=Aa("animationend"),pm=Aa("animationiteration"),gm=Aa("animationstart"),vm=Aa("transitionend"),_m=new Map,Wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(t,e){_m.set(t,e),wr(e,[t])}for(var ul=0;ul<Wh.length;ul++){var cl=Wh[ul],Kv=cl.toLowerCase(),Jv=cl[0].toUpperCase()+cl.slice(1);Hn(Kv,"on"+Jv)}Hn(mm,"onAnimationEnd");Hn(pm,"onAnimationIteration");Hn(gm,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(vm,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Uh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kg(r,e,void 0,t),t.currentTarget=null}function ym(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Uh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Uh(s,a,u),i=l}}}if(Eo)throw t=Bl,Eo=!1,Bl=null,t}function oe(t,e){var n=e[eu];n===void 0&&(n=e[eu]=new Set);var r=t+"__bubble";n.has(r)||(Mm(e,t,2,!1),n.add(r))}function hl(t,e,n){var r=0;e&&(r|=4),Mm(n,t,r,e)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function ti(t){if(!t[Qi]){t[Qi]=!0,Cf.forEach(function(n){n!=="selectionchange"&&(e_.has(n)||hl(n,!1,t),hl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qi]||(e[Qi]=!0,hl("selectionchange",!1,e))}}function Mm(t,e,n,r){switch(rm(e)){case 1:var s=mv;break;case 4:s=pv;break;default:s=nc}n=s.bind(null,e,n,t),s=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Uf(function(){var u=i,c=Ku(n),h=[];e:{var d=_m.get(t);if(d!==void 0){var f=sc,m=t;switch(t){case"keypress":if(co(n)===0)break e;case"keydown":case"keyup":f=Ev;break;case"focusin":m="focus",f=il;break;case"focusout":m="blur",f=il;break;case"beforeblur":case"afterblur":f=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Iv;break;case mm:case pm:case gm:f=Pv;break;case vm:f=Rv;break;case"scroll":f=gv;break;case"wheel":f=Fv;break;case"copy":case"cut":case"paste":f=Sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ih}var v=(e&4)!==0,M=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var g=u,_;g!==null;){_=g;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,p!==null&&(S=Xs(g,p),S!=null&&v.push(ni(g,S,_)))),M)break;g=g.return}0<v.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==zl&&(m=n.relatedTarget||n.fromElement)&&(nr(m)||m[ln]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?nr(m):null,m!==null&&(M=Sr(m),m!==M||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=bh,S="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ih,S="onPointerLeave",p="onPointerEnter",g="pointer"),M=f==null?d:jr(f),_=m==null?d:jr(m),d=new v(S,g+"leave",f,n,c),d.target=M,d.relatedTarget=_,S=null,nr(c)===u&&(v=new v(p,g+"enter",m,n,c),v.target=_,v.relatedTarget=M,S=v),M=S,f&&m)t:{for(v=f,p=m,g=0,_=v;_;_=Nr(_))g++;for(_=0,S=p;S;S=Nr(S))_++;for(;0<g-_;)v=Nr(v),g--;for(;0<_-g;)p=Nr(p),_--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=Nr(v),p=Nr(p)}v=null}else v=null;f!==null&&Bh(h,d,f,v,!1),m!==null&&M!==null&&Bh(h,M,m,v,!0)}}e:{if(d=u?jr(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var y=Bv;else if(jh(d))if(um)y=Qv;else{y=Hv;var w=qv}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(y=Gv);if(y&&(y=y(t,u))){lm(h,y,n,c);break e}w&&w(t,d,u),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&jl(d,"number",d.value)}switch(w=u?jr(u):window,t){case"focusin":(jh(w)||w.contentEditable==="true")&&(Dr=w,Ql=u,Vs=null);break;case"focusout":Vs=Ql=Dr=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,zh(h,n,c);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":zh(h,n,c)}var T;if(oc)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ir?om(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(im&&n.locale!=="ko"&&(Ir||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ir&&(T=sm()):(Cn=c,rc="value"in Cn?Cn.value:Cn.textContent,Ir=!0)),w=Ro(u,P),0<w.length&&(P=new Oh(P,t,null,n,c),h.push({event:P,listeners:w}),T?P.data=T:(T=am(n),T!==null&&(P.data=T)))),(T=Lv?$v(t,n):zv(t,n))&&(u=Ro(u,"onBeforeInput"),0<u.length&&(c=new Oh("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}ym(h,e)})}function ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ro(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xs(t,n),i!=null&&r.unshift(ni(t,i,s)),i=Xs(t,e),i!=null&&r.push(ni(t,i,s))),t=t.return}return r}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bh(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Xs(n,i),l!=null&&o.unshift(ni(n,l,a))):s||(l=Xs(n,i),l!=null&&o.push(ni(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var t_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function qh(t){return(typeof t=="string"?t:""+t).replace(t_,`
`).replace(n_,"")}function Xi(t,e,n){if(e=qh(e),qh(t)!==e&&n)throw Error(E(425))}function jo(){}var Yl=null,Zl=null;function Kl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,s_=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(t){return Hh.resolve(null).then(t).catch(i_)}:Jl;function i_(t){setTimeout(function(){throw t})}function fl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ks(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ks(e)}function On(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ms,ri="__reactProps$"+ms,ln="__reactContainer$"+ms,eu="__reactEvents$"+ms,o_="__reactListeners$"+ms,a_="__reactHandles$"+ms;function nr(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gh(t);t!==null;){if(n=t[Ht])return n;t=Gh(t)}return e}t=n,n=t.parentNode}return null}function Ci(t){return t=t[Ht]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ka(t){return t[ri]||null}var tu=[],Fr=-1;function Gn(t){return{current:t}}function ae(t){0>Fr||(t.current=tu[Fr],tu[Fr]=null,Fr--)}function se(t,e){Fr++,tu[Fr]=t.current,t.current=e}var Ln={},Ge=Gn(Ln),ot=Gn(!1),dr=Ln;function Jr(t,e){var n=t.type.contextTypes;if(!n)return Ln;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function Fo(){ae(ot),ae(Ge)}function Qh(t,e,n){if(Ge.current!==Ln)throw Error(E(168));se(Ge,e),se(ot,n)}function Pm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,qg(t)||"Unknown",s));return pe({},n,r)}function Vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ln,dr=Ge.current,se(Ge,t),se(ot,ot.current),!0}function Xh(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Pm(t,e,dr),r.__reactInternalMemoizedMergedChildContext=t,ae(ot),ae(Ge),se(Ge,t)):ae(ot),se(ot,n)}var tn=null,Ca=!1,ml=!1;function wm(t){tn===null?tn=[t]:tn.push(t)}function l_(t){Ca=!0,wm(t)}function Qn(){if(!ml&&tn!==null){ml=!0;var t=0,e=ee;try{var n=tn;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tn=null,Ca=!1}catch(s){throw tn!==null&&(tn=tn.slice(t+1)),Gf(Ju,Qn),s}finally{ee=e,ml=!1}}return null}var Vr=[],Lr=0,Lo=null,$o=0,wt=[],St=0,fr=null,nn=1,rn="";function Jn(t,e){Vr[Lr++]=$o,Vr[Lr++]=Lo,Lo=t,$o=e}function Sm(t,e,n){wt[St++]=nn,wt[St++]=rn,wt[St++]=fr,fr=t;var r=nn;t=rn;var s=32-Ft(r)-1;r&=~(1<<s),n+=1;var i=32-Ft(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nn=1<<32-Ft(e)+s|n<<s|r,rn=i+t}else nn=1<<i|n<<s|r,rn=t}function lc(t){t.return!==null&&(Jn(t,1),Sm(t,1,0))}function uc(t){for(;t===Lo;)Lo=Vr[--Lr],Vr[Lr]=null,$o=Vr[--Lr],Vr[Lr]=null;for(;t===fr;)fr=wt[--St],wt[St]=null,rn=wt[--St],wt[St]=null,nn=wt[--St],wt[St]=null}var mt=null,dt=null,he=!1,It=null;function Tm(t,e){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,dt=On(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fr!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,dt=null,!0):!1;default:return!1}}function nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ru(t){if(he){var e=dt;if(e){var n=e;if(!Yh(t,e)){if(nu(t))throw Error(E(418));e=On(n.nextSibling);var r=mt;e&&Yh(t,e)?Tm(r,n):(t.flags=t.flags&-4097|2,he=!1,mt=t)}}else{if(nu(t))throw Error(E(418));t.flags=t.flags&-4097|2,he=!1,mt=t}}}function Zh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function Yi(t){if(t!==mt)return!1;if(!he)return Zh(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kl(t.type,t.memoizedProps)),e&&(e=dt)){if(nu(t))throw Am(),Error(E(418));for(;e;)Tm(t,e),e=On(e.nextSibling)}if(Zh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=On(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=mt?On(t.stateNode.nextSibling):null;return!0}function Am(){for(var t=dt;t;)t=On(t.nextSibling)}function es(){dt=mt=null,he=!1}function cc(t){It===null?It=[t]:It.push(t)}var u_=mn.ReactCurrentBatchConfig;function Cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Zi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kh(t){var e=t._init;return e(t._payload)}function km(t){function e(p,g){if(t){var _=p.deletions;_===null?(p.deletions=[g],p.flags|=16):_.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=jn(p,g),p.index=0,p.sibling=null,p}function i(p,g,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<g?(p.flags|=2,g):_):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,_,S){return g===null||g.tag!==6?(g=Pl(_,p.mode,S),g.return=p,g):(g=s(g,_),g.return=p,g)}function l(p,g,_,S){var y=_.type;return y===Or?c(p,g,_.props.children,S,_.key):g!==null&&(g.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===wn&&Kh(y)===g.type)?(S=s(g,_.props),S.ref=Cs(p,g,_),S.return=p,S):(S=_o(_.type,_.key,_.props,null,p.mode,S),S.ref=Cs(p,g,_),S.return=p,S)}function u(p,g,_,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=wl(_,p.mode,S),g.return=p,g):(g=s(g,_.children||[]),g.return=p,g)}function c(p,g,_,S,y){return g===null||g.tag!==7?(g=lr(_,p.mode,S,y),g.return=p,g):(g=s(g,_),g.return=p,g)}function h(p,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Pl(""+g,p.mode,_),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $i:return _=_o(g.type,g.key,g.props,null,p.mode,_),_.ref=Cs(p,null,g),_.return=p,_;case br:return g=wl(g,p.mode,_),g.return=p,g;case wn:var S=g._init;return h(p,S(g._payload),_)}if(bs(g)||ws(g))return g=lr(g,p.mode,_,null),g.return=p,g;Zi(p,g)}return null}function d(p,g,_,S){var y=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return y!==null?null:a(p,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $i:return _.key===y?l(p,g,_,S):null;case br:return _.key===y?u(p,g,_,S):null;case wn:return y=_._init,d(p,g,y(_._payload),S)}if(bs(_)||ws(_))return y!==null?null:c(p,g,_,S,null);Zi(p,_)}return null}function f(p,g,_,S,y){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(_)||null,a(g,p,""+S,y);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $i:return p=p.get(S.key===null?_:S.key)||null,l(g,p,S,y);case br:return p=p.get(S.key===null?_:S.key)||null,u(g,p,S,y);case wn:var w=S._init;return f(p,g,_,w(S._payload),y)}if(bs(S)||ws(S))return p=p.get(_)||null,c(g,p,S,y,null);Zi(g,S)}return null}function m(p,g,_,S){for(var y=null,w=null,T=g,P=g=0,x=null;T!==null&&P<_.length;P++){T.index>P?(x=T,T=null):x=T.sibling;var k=d(p,T,_[P],S);if(k===null){T===null&&(T=x);break}t&&T&&k.alternate===null&&e(p,T),g=i(k,g,P),w===null?y=k:w.sibling=k,w=k,T=x}if(P===_.length)return n(p,T),he&&Jn(p,P),y;if(T===null){for(;P<_.length;P++)T=h(p,_[P],S),T!==null&&(g=i(T,g,P),w===null?y=T:w.sibling=T,w=T);return he&&Jn(p,P),y}for(T=r(p,T);P<_.length;P++)x=f(T,p,P,_[P],S),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?P:x.key),g=i(x,g,P),w===null?y=x:w.sibling=x,w=x);return t&&T.forEach(function(A){return e(p,A)}),he&&Jn(p,P),y}function v(p,g,_,S){var y=ws(_);if(typeof y!="function")throw Error(E(150));if(_=y.call(_),_==null)throw Error(E(151));for(var w=y=null,T=g,P=g=0,x=null,k=_.next();T!==null&&!k.done;P++,k=_.next()){T.index>P?(x=T,T=null):x=T.sibling;var A=d(p,T,k.value,S);if(A===null){T===null&&(T=x);break}t&&T&&A.alternate===null&&e(p,T),g=i(A,g,P),w===null?y=A:w.sibling=A,w=A,T=x}if(k.done)return n(p,T),he&&Jn(p,P),y;if(T===null){for(;!k.done;P++,k=_.next())k=h(p,k.value,S),k!==null&&(g=i(k,g,P),w===null?y=k:w.sibling=k,w=k);return he&&Jn(p,P),y}for(T=r(p,T);!k.done;P++,k=_.next())k=f(T,p,P,k.value,S),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?P:k.key),g=i(k,g,P),w===null?y=k:w.sibling=k,w=k);return t&&T.forEach(function(C){return e(p,C)}),he&&Jn(p,P),y}function M(p,g,_,S){if(typeof _=="object"&&_!==null&&_.type===Or&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case $i:e:{for(var y=_.key,w=g;w!==null;){if(w.key===y){if(y=_.type,y===Or){if(w.tag===7){n(p,w.sibling),g=s(w,_.props.children),g.return=p,p=g;break e}}else if(w.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===wn&&Kh(y)===w.type){n(p,w.sibling),g=s(w,_.props),g.ref=Cs(p,w,_),g.return=p,p=g;break e}n(p,w);break}else e(p,w);w=w.sibling}_.type===Or?(g=lr(_.props.children,p.mode,S,_.key),g.return=p,p=g):(S=_o(_.type,_.key,_.props,null,p.mode,S),S.ref=Cs(p,g,_),S.return=p,p=S)}return o(p);case br:e:{for(w=_.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(p,g.sibling),g=s(g,_.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=wl(_,p.mode,S),g.return=p,p=g}return o(p);case wn:return w=_._init,M(p,g,w(_._payload),S)}if(bs(_))return m(p,g,_,S);if(ws(_))return v(p,g,_,S);Zi(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,_),g.return=p,p=g):(n(p,g),g=Pl(_,p.mode,S),g.return=p,p=g),o(p)):n(p,g)}return M}var ts=km(!0),Cm=km(!1),zo=Gn(null),Wo=null,$r=null,hc=null;function dc(){hc=$r=Wo=null}function fc(t){var e=zo.current;ae(zo),t._currentValue=e}function su(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xr(t,e){Wo=t,hc=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(hc!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(Wo===null)throw Error(E(308));$r=t,Wo.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var rr=null;function mc(t){rr===null?rr=[t]:rr.push(t)}function xm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,mc(e)):(n.next=s.next,s.next=n),e.interleaved=n,un(t,r)}function un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sn=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,un(t,n)}return s=r.interleaved,s===null?(e.next=e,mc(r)):(e.next=s.next,s.next=e),r.interleaved=e,un(t,n)}function ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ec(t,n)}}function Jh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uo(t,e,n,r){var s=t.updateQueue;Sn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=pe({},h,d);break e;case 2:Sn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pr|=o,t.lanes=o,t.memoizedState=h}}function ed(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var xi={},Qt=Gn(xi),si=Gn(xi),ii=Gn(xi);function sr(t){if(t===xi)throw Error(E(174));return t}function gc(t,e){switch(se(ii,e),se(si,t),se(Qt,xi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vl(e,t)}ae(Qt),se(Qt,e)}function ns(){ae(Qt),ae(si),ae(ii)}function Em(t){sr(ii.current);var e=sr(Qt.current),n=Vl(e,t.type);e!==n&&(se(si,t),se(Qt,n))}function vc(t){si.current===t&&(ae(Qt),ae(si))}var fe=Gn(0);function Bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pl=[];function _c(){for(var t=0;t<pl.length;t++)pl[t]._workInProgressVersionPrimary=null;pl.length=0}var fo=mn.ReactCurrentDispatcher,gl=mn.ReactCurrentBatchConfig,mr=0,me=null,Ee=null,Re=null,qo=!1,Ls=!1,oi=0,c_=0;function Be(){throw Error(E(321))}function yc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lt(t[n],e[n]))return!1;return!0}function Mc(t,e,n,r,s,i){if(mr=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fo.current=t===null||t.memoizedState===null?m_:p_,t=n(r,s),Ls){i=0;do{if(Ls=!1,oi=0,25<=i)throw Error(E(301));i+=1,Re=Ee=null,e.updateQueue=null,fo.current=g_,t=n(r,s)}while(Ls)}if(fo.current=Ho,e=Ee!==null&&Ee.next!==null,mr=0,Re=Ee=me=null,qo=!1,e)throw Error(E(300));return t}function Pc(){var t=oi!==0;return oi=0,t}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?me.memoizedState=Re=t:Re=Re.next=t,Re}function Nt(){if(Ee===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Re===null?me.memoizedState:Re.next;if(e!==null)Re=e,Ee=t;else{if(t===null)throw Error(E(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Re===null?me.memoizedState=Re=t:Re=Re.next=t}return Re}function ai(t,e){return typeof e=="function"?e(t):e}function vl(t){var e=Nt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=Ee,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,me.lanes|=c,pr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Lt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,pr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _l(t){var e=Nt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Lt(i,e.memoizedState)||(it=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bm(){}function Om(t,e){var n=me,r=Nt(),s=e(),i=!Lt(r.memoizedState,s);if(i&&(r.memoizedState=s,it=!0),r=r.queue,wc(Rm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,li(9,Dm.bind(null,n,r,s,e),void 0,null),je===null)throw Error(E(349));mr&30||Im(n,e,s)}return s}function Im(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dm(t,e,n,r){e.value=n,e.getSnapshot=r,jm(e)&&Fm(t)}function Rm(t,e,n){return n(function(){jm(e)&&Fm(t)})}function jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lt(t,n)}catch{return!0}}function Fm(t){var e=un(t,1);e!==null&&Vt(e,t,1,-1)}function td(t){var e=qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},e.queue=t,t=t.dispatch=f_.bind(null,me,t),[e.memoizedState,t]}function li(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Vm(){return Nt().memoizedState}function mo(t,e,n,r){var s=qt();me.flags|=t,s.memoizedState=li(1|e,n,void 0,r===void 0?null:r)}function xa(t,e,n,r){var s=Nt();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,r!==null&&yc(r,o.deps)){s.memoizedState=li(e,n,i,r);return}}me.flags|=t,s.memoizedState=li(1|e,n,i,r)}function nd(t,e){return mo(8390656,8,t,e)}function wc(t,e){return xa(2048,8,t,e)}function Lm(t,e){return xa(4,2,t,e)}function $m(t,e){return xa(4,4,t,e)}function zm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wm(t,e,n){return n=n!=null?n.concat([t]):null,xa(4,4,zm.bind(null,e,t),n)}function Sc(){}function Um(t,e){var n=Nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bm(t,e){var n=Nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qm(t,e,n){return mr&21?(Lt(n,e)||(n=Yf(),me.lanes|=n,pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function h_(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=gl.transition;gl.transition={};try{t(!1),e()}finally{ee=n,gl.transition=r}}function Hm(){return Nt().memoizedState}function d_(t,e,n){var r=Rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gm(t))Qm(e,n);else if(n=xm(t,e,n,r),n!==null){var s=Je();Vt(n,t,r,s),Xm(n,e,r)}}function f_(t,e,n){var r=Rn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gm(t))Qm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Lt(a,o)){var l=e.interleaved;l===null?(s.next=s,mc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xm(t,e,s,r),n!==null&&(s=Je(),Vt(n,t,r,s),Xm(n,e,r))}}function Gm(t){var e=t.alternate;return t===me||e!==null&&e===me}function Qm(t,e){Ls=qo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ec(t,n)}}var Ho={readContext:xt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},m_={readContext:xt,useCallback:function(t,e){return qt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:nd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mo(4194308,4,zm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mo(4194308,4,t,e)},useInsertionEffect:function(t,e){return mo(4,2,t,e)},useMemo:function(t,e){var n=qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d_.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=qt();return t={current:t},e.memoizedState=t},useState:td,useDebugValue:Sc,useDeferredValue:function(t){return qt().memoizedState=t},useTransition:function(){var t=td(!1),e=t[0];return t=h_.bind(null,t[1]),qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=qt();if(he){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),je===null)throw Error(E(349));mr&30||Im(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,nd(Rm.bind(null,r,i,t),[t]),r.flags|=2048,li(9,Dm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=qt(),e=je.identifierPrefix;if(he){var n=rn,r=nn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=c_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p_={readContext:xt,useCallback:Um,useContext:xt,useEffect:wc,useImperativeHandle:Wm,useInsertionEffect:Lm,useLayoutEffect:$m,useMemo:Bm,useReducer:vl,useRef:Vm,useState:function(){return vl(ai)},useDebugValue:Sc,useDeferredValue:function(t){var e=Nt();return qm(e,Ee.memoizedState,t)},useTransition:function(){var t=vl(ai)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:Om,useId:Hm,unstable_isNewReconciler:!1},g_={readContext:xt,useCallback:Um,useContext:xt,useEffect:wc,useImperativeHandle:Wm,useInsertionEffect:Lm,useLayoutEffect:$m,useMemo:Bm,useReducer:_l,useRef:Vm,useState:function(){return _l(ai)},useDebugValue:Sc,useDeferredValue:function(t){var e=Nt();return Ee===null?e.memoizedState=t:qm(e,Ee.memoizedState,t)},useTransition:function(){var t=_l(ai)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:Om,useId:Hm,unstable_isNewReconciler:!1};function bt(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Na={isMounted:function(t){return(t=t._reactInternals)?Sr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),s=Rn(t),i=sn(r,s);i.payload=e,n!=null&&(i.callback=n),e=In(t,i,s),e!==null&&(Vt(e,t,s,r),ho(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),s=Rn(t),i=sn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=In(t,i,s),e!==null&&(Vt(e,t,s,r),ho(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=Rn(t),s=sn(n,r);s.tag=2,e!=null&&(s.callback=e),e=In(t,s,r),e!==null&&(Vt(e,t,r,n),ho(e,t,r))}};function rd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ei(n,r)||!ei(s,i):!0}function Ym(t,e,n){var r=!1,s=Ln,i=e.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=at(e)?dr:Ge.current,r=e.contextTypes,i=(r=r!=null)?Jr(t,s):Ln),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Na,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function sd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Na.enqueueReplaceState(e,e.state,null)}function ou(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},pc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=at(e)?dr:Ge.current,s.context=Jr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(iu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Na.enqueueReplaceState(s,s.state,null),Uo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function rs(t,e){try{var n="",r=e;do n+=Bg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function au(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v_=typeof WeakMap=="function"?WeakMap:Map;function Zm(t,e,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qo||(Qo=!0,vu=r),au(t,e)},n}function Km(t,e,n){n=sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){au(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){au(t,e),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function id(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=b_.bind(null,t,e,n),e.then(t,t))}function od(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ad(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sn(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var __=mn.ReactCurrentOwner,it=!1;function Ye(t,e,n,r){e.child=t===null?Cm(e,null,n,r):ts(e,t.child,n,r)}function ld(t,e,n,r,s){n=n.render;var i=e.ref;return Xr(e,s),r=Mc(t,e,n,r,i,s),n=Pc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cn(t,e,s)):(he&&n&&lc(e),e.flags|=1,Ye(t,e,r,s),e.child)}function ud(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Jm(t,e,i,r,s)):(t=_o(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&t.ref===e.ref)return cn(t,e,s)}return e.flags|=1,t=jn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Jm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ei(i,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,cn(t,e,s)}return lu(t,e,n,r,s)}function ep(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Wr,ht),ht|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(Wr,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(Wr,ht),ht|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,se(Wr,ht),ht|=r;return Ye(t,e,s,n),e.child}function tp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lu(t,e,n,r,s){var i=at(n)?dr:Ge.current;return i=Jr(e,i),Xr(e,s),n=Mc(t,e,n,r,i,s),r=Pc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cn(t,e,s)):(he&&r&&lc(e),e.flags|=1,Ye(t,e,n,s),e.child)}function cd(t,e,n,r,s){if(at(n)){var i=!0;Vo(e)}else i=!1;if(Xr(e,s),e.stateNode===null)po(t,e),Ym(e,n,r),ou(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=at(n)?dr:Ge.current,u=Jr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sd(e,o,r,u),Sn=!1;var d=e.memoizedState;o.state=d,Uo(e,r,o,s),l=e.memoizedState,a!==r||d!==l||ot.current||Sn?(typeof c=="function"&&(iu(e,n,c,r),l=e.memoizedState),(a=Sn||rd(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Nm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xt(l):(l=at(n)?dr:Ge.current,l=Jr(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&sd(e,o,r,l),Sn=!1,d=e.memoizedState,o.state=d,Uo(e,r,o,s);var m=e.memoizedState;a!==h||d!==m||ot.current||Sn?(typeof f=="function"&&(iu(e,n,f,r),m=e.memoizedState),(u=Sn||rd(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return uu(t,e,n,r,i,s)}function uu(t,e,n,r,s,i){tp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xh(e,n,!1),cn(t,e,i);r=e.stateNode,__.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ts(e,t.child,null,i),e.child=ts(e,null,a,i)):Ye(t,e,a,i),e.memoizedState=r.state,s&&Xh(e,n,!0),e.child}function np(t){var e=t.stateNode;e.pendingContext?Qh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qh(t,e.context,!1),gc(t,e.containerInfo)}function hd(t,e,n,r,s){return es(),cc(s),e.flags|=256,Ye(t,e,n,r),e.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function hu(t){return{baseLanes:t,cachePool:null,transitions:null}}function rp(t,e,n){var r=e.pendingProps,s=fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(fe,s&1),t===null)return ru(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oa(o,r,0,null),t=lr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hu(n),e.memoizedState=cu,t):Tc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return y_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=jn(a,i):(i=lr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?hu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=cu,r}return i=t.child,t=i.sibling,r=jn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tc(t,e){return e=Oa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ki(t,e,n,r){return r!==null&&cc(r),ts(e,t.child,null,n),t=Tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yl(Error(E(422))),Ki(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oa({mode:"visible",children:r.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ts(e,t.child,null,o),e.child.memoizedState=hu(o),e.memoizedState=cu,i);if(!(e.mode&1))return Ki(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=yl(i,r,void 0),Ki(t,e,o,r)}if(a=(o&t.childLanes)!==0,it||a){if(r=je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,un(t,s),Vt(r,t,s,-1))}return Ec(),r=yl(Error(E(421))),Ki(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=O_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,dt=On(s.nextSibling),mt=e,he=!0,It=null,t!==null&&(wt[St++]=nn,wt[St++]=rn,wt[St++]=fr,nn=t.id,rn=t.overflow,fr=e),e=Tc(e,r.children),e.flags|=4096,e)}function dd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),su(t.return,e,n)}function Ml(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ye(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dd(t,n,e);else if(t.tag===19)dd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Bo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ml(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ml(e,!0,n,null,i);break;case"together":Ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function M_(t,e,n){switch(e.tag){case 3:np(e),es();break;case 5:Em(e);break;case 1:at(e.type)&&Vo(e);break;case 4:gc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;se(zo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?rp(t,e,n):(se(fe,fe.current&1),t=cn(t,e,n),t!==null?t.sibling:null);se(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,ep(t,e,n)}return cn(t,e,n)}var ip,du,op,ap;ip=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};du=function(){};op=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,sr(Qt.current);var i=null;switch(n){case"input":s=Dl(t,s),r=Dl(t,r),i=[];break;case"select":s=pe({},s,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":s=Fl(t,s),r=Fl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jo)}Ll(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ap=function(t,e,n,r){n!==r&&(e.flags|=4)};function xs(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P_(t,e,n){var r=e.pendingProps;switch(uc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return at(e.type)&&Fo(),qe(e),null;case 3:return r=e.stateNode,ns(),ae(ot),ae(Ge),_c(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(Mu(It),It=null))),du(t,e),qe(e),null;case 5:vc(e);var s=sr(ii.current);if(n=e.type,t!==null&&e.stateNode!=null)op(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return qe(e),null}if(t=sr(Qt.current),Yi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ht]=e,r[ri]=i,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(s=0;s<Is.length;s++)oe(Is[s],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":Ph(r,i),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},oe("invalid",r);break;case"textarea":Sh(r,i),oe("invalid",r)}Ll(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xi(r.textContent,a,t),s=["children",""+a]):Gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",r)}switch(n){case"input":zi(r),wh(r,i,!0);break;case"textarea":zi(r),Th(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ht]=e,t[ri]=r,ip(t,e,!1,!1),e.stateNode=t;e:{switch(o=$l(n,r),n){case"dialog":oe("cancel",t),oe("close",t),s=r;break;case"iframe":case"object":case"embed":oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Is.length;s++)oe(Is[s],t);s=r;break;case"source":oe("error",t),s=r;break;case"img":case"image":case"link":oe("error",t),oe("load",t),s=r;break;case"details":oe("toggle",t),s=r;break;case"input":Ph(t,r),s=Dl(t,r),oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pe({},r,{value:void 0}),oe("invalid",t);break;case"textarea":Sh(t,r),s=Fl(t,r),oe("invalid",t);break;default:s=r}Ll(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qs(t,l):typeof l=="number"&&Qs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&Qu(t,i,l,o))}switch(n){case"input":zi(t),wh(t,r,!1);break;case"textarea":zi(t),Th(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qr(t,!!r.multiple,i,!1):r.defaultValue!=null&&qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)ap(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=sr(ii.current),sr(Qt.current),Yi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ht]=e,(i=r.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:Xi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=e,e.stateNode=r}return qe(e),null;case 13:if(ae(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&dt!==null&&e.mode&1&&!(e.flags&128))Am(),es(),e.flags|=98560,i=!1;else if(i=Yi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Ht]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),i=!1}else It!==null&&(Mu(It),It=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?be===0&&(be=3):Ec())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return ns(),du(t,e),t===null&&ti(e.stateNode.containerInfo),qe(e),null;case 10:return fc(e.type._context),qe(e),null;case 17:return at(e.type)&&Fo(),qe(e),null;case 19:if(ae(fe),i=e.memoizedState,i===null)return qe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)xs(i,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bo(t),o!==null){for(e.flags|=128,xs(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(fe,fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Se()>ss&&(e.flags|=128,r=!0,xs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Bo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return qe(e),null}else 2*Se()-i.renderingStartTime>ss&&n!==1073741824&&(e.flags|=128,r=!0,xs(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Se(),e.sibling=null,n=fe.current,se(fe,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return Nc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ht&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function w_(t,e){switch(uc(e),e.tag){case 1:return at(e.type)&&Fo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),ae(ot),ae(Ge),_c(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vc(e),null;case 13:if(ae(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(fe),null;case 4:return ns(),null;case 10:return fc(e.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Ji=!1,He=!1,S_=typeof WeakSet=="function"?WeakSet:Set,L=null;function zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function fu(t,e,n){try{n()}catch(r){ve(t,e,r)}}var fd=!1;function T_(t,e){if(Yl=Io,t=dm(),ac(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zl={focusedElem:t,selectionRange:n},Io=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,M=m.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:bt(e.type,v),M);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){ve(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return m=fd,fd=!1,m}function $s(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&fu(e,n,i)}s=s.next}while(s!==r)}}function Ea(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lp(t){var e=t.alternate;e!==null&&(t.alternate=null,lp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[ri],delete e[eu],delete e[o_],delete e[a_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function up(t){return t.tag===5||t.tag===3||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||up(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jo));else if(r!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}function gu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gu(t,e,n),t=t.sibling;t!==null;)gu(t,e,n),t=t.sibling}var Le=null,Ot=!1;function Mn(t,e,n){for(n=n.child;n!==null;)cp(t,e,n),n=n.sibling}function cp(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(wa,n)}catch{}switch(n.tag){case 5:He||zr(n,e);case 6:var r=Le,s=Ot;Le=null,Mn(t,e,n),Le=r,Ot=s,Le!==null&&(Ot?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Ot?(t=Le,n=n.stateNode,t.nodeType===8?fl(t.parentNode,n):t.nodeType===1&&fl(t,n),Ks(t)):fl(Le,n.stateNode));break;case 4:r=Le,s=Ot,Le=n.stateNode.containerInfo,Ot=!0,Mn(t,e,n),Le=r,Ot=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fu(n,e,o),s=s.next}while(s!==r)}Mn(t,e,n);break;case 1:if(!He&&(zr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,e,a)}Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Mn(t,e,n),He=r):Mn(t,e,n);break;default:Mn(t,e,n)}}function pd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S_),e.forEach(function(r){var s=I_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Ot=!1;break e;case 3:Le=a.stateNode.containerInfo,Ot=!0;break e;case 4:Le=a.stateNode.containerInfo,Ot=!0;break e}a=a.return}if(Le===null)throw Error(E(160));cp(i,o,s),Le=null,Ot=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ve(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hp(e,t),e=e.sibling}function hp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Bt(t),r&4){try{$s(3,t,t.return),Ea(3,t)}catch(v){ve(t,t.return,v)}try{$s(5,t,t.return)}catch(v){ve(t,t.return,v)}}break;case 1:Et(e,t),Bt(t),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Et(e,t),Bt(t),r&512&&n!==null&&zr(n,n.return),t.flags&32){var s=t.stateNode;try{Qs(s,"")}catch(v){ve(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&If(s,i),$l(a,o);var u=$l(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Vf(s,h):c==="dangerouslySetInnerHTML"?jf(s,h):c==="children"?Qs(s,h):Qu(s,c,h,u)}switch(a){case"input":Rl(s,i);break;case"textarea":Df(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?qr(s,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?qr(s,!!i.multiple,i.defaultValue,!0):qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ri]=i}catch(v){ve(t,t.return,v)}}break;case 6:if(Et(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ve(t,t.return,v)}}break;case 3:if(Et(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ks(e.containerInfo)}catch(v){ve(t,t.return,v)}break;case 4:Et(e,t),Bt(t);break;case 13:Et(e,t),Bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cc=Se())),r&4&&pd(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||c,Et(e,t),He=u):Et(e,t),Bt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:$s(4,d,d.return);break;case 1:zr(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ve(r,n,v)}}break;case 5:zr(d,d.return);break;case 22:if(d.memoizedState!==null){vd(h);continue}}f!==null?(f.return=d,L=f):vd(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ff("display",o))}catch(v){ve(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ve(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Et(e,t),Bt(t),r&4&&pd(t);break;case 21:break;default:Et(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(up(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Qs(s,""),r.flags&=-33);var i=md(t);gu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=md(t);pu(t,a,o);break;default:throw Error(E(161))}}catch(l){ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function A_(t,e,n){L=t,dp(t)}function dp(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ji;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||He;a=Ji;var u=He;if(Ji=o,(He=l)&&!u)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?_d(s):l!==null?(l.return=o,L=l):_d(s);for(;i!==null;)L=i,dp(i),i=i.sibling;L=s,Ji=a,He=u}gd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):gd(t)}}function gd(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Ea(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ed(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ed(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ks(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}He||e.flags&512&&mu(e)}catch(d){ve(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function vd(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function _d(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ea(4,e)}catch(l){ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ve(e,s,l)}}var i=e.return;try{mu(e)}catch(l){ve(e,i,l)}break;case 5:var o=e.return;try{mu(e)}catch(l){ve(e,o,l)}}}catch(l){ve(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var k_=Math.ceil,Go=mn.ReactCurrentDispatcher,Ac=mn.ReactCurrentOwner,At=mn.ReactCurrentBatchConfig,Z=0,je=null,Ce=null,$e=0,ht=0,Wr=Gn(0),be=0,ui=null,pr=0,ba=0,kc=0,zs=null,rt=null,Cc=0,ss=1/0,Jt=null,Qo=!1,vu=null,Dn=null,eo=!1,xn=null,Xo=0,Ws=0,_u=null,go=-1,vo=0;function Je(){return Z&6?Se():go!==-1?go:go=Se()}function Rn(t){return t.mode&1?Z&2&&$e!==0?$e&-$e:u_.transition!==null?(vo===0&&(vo=Yf()),vo):(t=ee,t!==0||(t=window.event,t=t===void 0?16:rm(t.type)),t):1}function Vt(t,e,n,r){if(50<Ws)throw Ws=0,_u=null,Error(E(185));Ai(t,n,r),(!(Z&2)||t!==je)&&(t===je&&(!(Z&2)&&(ba|=n),be===4&&kn(t,$e)),lt(t,r),n===1&&Z===0&&!(e.mode&1)&&(ss=Se()+500,Ca&&Qn()))}function lt(t,e){var n=t.callbackNode;uv(t,e);var r=Oo(t,t===je?$e:0);if(r===0)n!==null&&Ch(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ch(n),e===1)t.tag===0?l_(yd.bind(null,t)):wm(yd.bind(null,t)),s_(function(){!(Z&6)&&Qn()}),n=null;else{switch(Zf(r)){case 1:n=Ju;break;case 4:n=Qf;break;case 16:n=bo;break;case 536870912:n=Xf;break;default:n=bo}n=Mp(n,fp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fp(t,e){if(go=-1,vo=0,Z&6)throw Error(E(327));var n=t.callbackNode;if(Yr()&&t.callbackNode!==n)return null;var r=Oo(t,t===je?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yo(t,r);else{e=r;var s=Z;Z|=2;var i=pp();(je!==t||$e!==e)&&(Jt=null,ss=Se()+500,ar(t,e));do try{N_();break}catch(a){mp(t,a)}while(1);dc(),Go.current=i,Z=s,Ce!==null?e=0:(je=null,$e=0,e=be)}if(e!==0){if(e===2&&(s=ql(t),s!==0&&(r=s,e=yu(t,s))),e===1)throw n=ui,ar(t,0),kn(t,r),lt(t,Se()),n;if(e===6)kn(t,r);else{if(s=t.current.alternate,!(r&30)&&!C_(s)&&(e=Yo(t,r),e===2&&(i=ql(t),i!==0&&(r=i,e=yu(t,i))),e===1))throw n=ui,ar(t,0),kn(t,r),lt(t,Se()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:er(t,rt,Jt);break;case 3:if(kn(t,r),(r&130023424)===r&&(e=Cc+500-Se(),10<e)){if(Oo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Jl(er.bind(null,t,rt,Jt),e);break}er(t,rt,Jt);break;case 4:if(kn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ft(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k_(r/1960))-r,10<r){t.timeoutHandle=Jl(er.bind(null,t,rt,Jt),r);break}er(t,rt,Jt);break;case 5:er(t,rt,Jt);break;default:throw Error(E(329))}}}return lt(t,Se()),t.callbackNode===n?fp.bind(null,t):null}function yu(t,e){var n=zs;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=Yo(t,e),t!==2&&(e=rt,rt=n,e!==null&&Mu(e)),t}function Mu(t){rt===null?rt=t:rt.push.apply(rt,t)}function C_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kn(t,e){for(e&=~kc,e&=~ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ft(e),r=1<<n;t[n]=-1,e&=~r}}function yd(t){if(Z&6)throw Error(E(327));Yr();var e=Oo(t,0);if(!(e&1))return lt(t,Se()),null;var n=Yo(t,e);if(t.tag!==0&&n===2){var r=ql(t);r!==0&&(e=r,n=yu(t,r))}if(n===1)throw n=ui,ar(t,0),kn(t,e),lt(t,Se()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,rt,Jt),lt(t,Se()),null}function xc(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(ss=Se()+500,Ca&&Qn())}}function gr(t){xn!==null&&xn.tag===0&&!(Z&6)&&Yr();var e=Z;Z|=1;var n=At.transition,r=ee;try{if(At.transition=null,ee=1,t)return t()}finally{ee=r,At.transition=n,Z=e,!(Z&6)&&Qn()}}function Nc(){ht=Wr.current,ae(Wr)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r_(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fo();break;case 3:ns(),ae(ot),ae(Ge),_c();break;case 5:vc(r);break;case 4:ns();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:fc(r.type._context);break;case 22:case 23:Nc()}n=n.return}if(je=t,Ce=t=jn(t.current,null),$e=ht=e,be=0,ui=null,kc=ba=pr=0,rt=zs=null,rr!==null){for(e=0;e<rr.length;e++)if(n=rr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}rr=null}return t}function mp(t,e){do{var n=Ce;try{if(dc(),fo.current=Ho,qo){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qo=!1}if(mr=0,Re=Ee=me=null,Ls=!1,oi=0,Ac.current=null,n===null||n.return===null){be=1,ui=e,Ce=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=od(o);if(f!==null){f.flags&=-257,ad(f,o,a,i,e),f.mode&1&&id(i,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){id(i,u,e),Ec();break e}l=Error(E(426))}}else if(he&&a.mode&1){var M=od(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),ad(M,o,a,i,e),cc(rs(l,a));break e}}i=l=rs(l,a),be!==4&&(be=2),zs===null?zs=[i]:zs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Zm(i,l,e);Jh(i,p);break e;case 1:a=l;var g=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Dn===null||!Dn.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Km(i,a,e);Jh(i,S);break e}}i=i.return}while(i!==null)}vp(n)}catch(y){e=y,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function pp(){var t=Go.current;return Go.current=Ho,t===null?Ho:t}function Ec(){(be===0||be===3||be===2)&&(be=4),je===null||!(pr&268435455)&&!(ba&268435455)||kn(je,$e)}function Yo(t,e){var n=Z;Z|=2;var r=pp();(je!==t||$e!==e)&&(Jt=null,ar(t,e));do try{x_();break}catch(s){mp(t,s)}while(1);if(dc(),Z=n,Go.current=r,Ce!==null)throw Error(E(261));return je=null,$e=0,be}function x_(){for(;Ce!==null;)gp(Ce)}function N_(){for(;Ce!==null&&!ev();)gp(Ce)}function gp(t){var e=yp(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?vp(t):Ce=e,Ac.current=null}function vp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w_(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Ce=null;return}}else if(n=P_(n,e,ht),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);be===0&&(be=5)}function er(t,e,n){var r=ee,s=At.transition;try{At.transition=null,ee=1,E_(t,e,n,r)}finally{At.transition=s,ee=r}return null}function E_(t,e,n,r){do Yr();while(xn!==null);if(Z&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cv(t,i),t===je&&(Ce=je=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eo||(eo=!0,Mp(bo,function(){return Yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var o=ee;ee=1;var a=Z;Z|=4,Ac.current=null,T_(t,n),hp(n,t),Yv(Zl),Io=!!Yl,Zl=Yl=null,t.current=n,A_(n),tv(),Z=a,ee=o,At.transition=i}else t.current=n;if(eo&&(eo=!1,xn=t,Xo=s),i=t.pendingLanes,i===0&&(Dn=null),sv(n.stateNode),lt(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qo)throw Qo=!1,t=vu,vu=null,t;return Xo&1&&t.tag!==0&&Yr(),i=t.pendingLanes,i&1?t===_u?Ws++:(Ws=0,_u=t):Ws=0,Qn(),null}function Yr(){if(xn!==null){var t=Zf(Xo),e=At.transition,n=ee;try{if(At.transition=null,ee=16>t?16:t,xn===null)var r=!1;else{if(t=xn,xn=null,Xo=0,Z&6)throw Error(E(331));var s=Z;for(Z|=4,L=t.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:$s(8,c,i)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var d=c.sibling,f=c.return;if(lp(c),c===u){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var M=v.sibling;v.sibling=null,v=M}while(v!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$s(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,L=p;break e}L=i.return}}var g=t.current;for(L=g;L!==null;){o=L;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,L=_;else e:for(o=g;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ea(9,a)}}catch(y){ve(a,a.return,y)}if(a===o){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(Z=s,Qn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(wa,t)}catch{}r=!0}return r}finally{ee=n,At.transition=e}}return!1}function Md(t,e,n){e=rs(n,e),e=Zm(t,e,1),t=In(t,e,1),e=Je(),t!==null&&(Ai(t,1,e),lt(t,e))}function ve(t,e,n){if(t.tag===3)Md(t,t,n);else for(;e!==null;){if(e.tag===3){Md(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){t=rs(n,t),t=Km(e,t,1),e=In(e,t,1),t=Je(),e!==null&&(Ai(e,1,t),lt(e,t));break}}e=e.return}}function b_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,je===t&&($e&n)===n&&(be===4||be===3&&($e&130023424)===$e&&500>Se()-Cc?ar(t,0):kc|=n),lt(t,e)}function _p(t,e){e===0&&(t.mode&1?(e=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):e=1);var n=Je();t=un(t,e),t!==null&&(Ai(t,e,n),lt(t,n))}function O_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_p(t,n)}function I_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),_p(t,n)}var yp;yp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,M_(t,e,n);it=!!(t.flags&131072)}else it=!1,he&&e.flags&1048576&&Sm(e,$o,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;po(t,e),t=e.pendingProps;var s=Jr(e,Ge.current);Xr(e,n),s=Mc(null,e,r,t,s,n);var i=Pc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(r)?(i=!0,Vo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pc(e),s.updater=Na,e.stateNode=s,s._reactInternals=e,ou(e,r,t,n),e=uu(null,e,r,!0,i,n)):(e.tag=0,he&&i&&lc(e),Ye(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(po(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=R_(r),t=bt(r,t),s){case 0:e=lu(null,e,r,t,n);break e;case 1:e=cd(null,e,r,t,n);break e;case 11:e=ld(null,e,r,t,n);break e;case 14:e=ud(null,e,r,bt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bt(r,s),lu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bt(r,s),cd(t,e,r,s,n);case 3:e:{if(np(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Nm(t,e),Uo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=rs(Error(E(423)),e),e=hd(t,e,r,n,s);break e}else if(r!==s){s=rs(Error(E(424)),e),e=hd(t,e,r,n,s);break e}else for(dt=On(e.stateNode.containerInfo.firstChild),mt=e,he=!0,It=null,n=Cm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===s){e=cn(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return Em(e),t===null&&ru(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Kl(r,s)?o=null:i!==null&&Kl(r,i)&&(e.flags|=32),tp(t,e),Ye(t,e,o,n),e.child;case 6:return t===null&&ru(e),null;case 13:return rp(t,e,n);case 4:return gc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ts(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bt(r,s),ld(t,e,r,s,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,se(zo,r._currentValue),r._currentValue=o,i!==null)if(Lt(i.value,o)){if(i.children===s.children&&!ot.current){e=cn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=sn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),su(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),su(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ye(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xr(e,n),s=xt(s),r=r(s),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,s=bt(r,e.pendingProps),s=bt(r.type,s),ud(t,e,r,s,n);case 15:return Jm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bt(r,s),po(t,e),e.tag=1,at(r)?(t=!0,Vo(e)):t=!1,Xr(e,n),Ym(e,r,s),ou(e,r,s,n),uu(null,e,r,!0,t,n);case 19:return sp(t,e,n);case 22:return ep(t,e,n)}throw Error(E(156,e.tag))};function Mp(t,e){return Gf(t,e)}function D_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,r){return new D_(t,e,n,r)}function bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R_(t){if(typeof t=="function")return bc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yu)return 11;if(t===Zu)return 14}return 2}function jn(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Or:return lr(n.children,s,i,e);case Xu:o=8,s|=8;break;case El:return t=Tt(12,n,e,s|2),t.elementType=El,t.lanes=i,t;case bl:return t=Tt(13,n,e,s),t.elementType=bl,t.lanes=i,t;case Ol:return t=Tt(19,n,e,s),t.elementType=Ol,t.lanes=i,t;case Ef:return Oa(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xf:o=10;break e;case Nf:o=9;break e;case Yu:o=11;break e;case Zu:o=14;break e;case wn:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Tt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function lr(t,e,n,r){return t=Tt(7,t,r,e),t.lanes=n,t}function Oa(t,e,n,r){return t=Tt(22,t,r,e),t.elementType=Ef,t.lanes=n,t.stateNode={isHidden:!1},t}function Pl(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function wl(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oc(t,e,n,r,s,i,o,a,l){return t=new j_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(i),t}function F_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Pp(t){if(!t)return Ln;t=t._reactInternals;e:{if(Sr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(at(n))return Pm(t,n,e)}return e}function wp(t,e,n,r,s,i,o,a,l){return t=Oc(n,r,!0,t,s,i,o,a,l),t.context=Pp(null),n=t.current,r=Je(),s=Rn(n),i=sn(r,s),i.callback=e??null,In(n,i,s),t.current.lanes=s,Ai(t,s,r),lt(t,r),t}function Ia(t,e,n,r){var s=e.current,i=Je(),o=Rn(s);return n=Pp(n),e.context===null?e.context=n:e.pendingContext=n,e=sn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=In(s,e,o),t!==null&&(Vt(t,s,o,i),ho(t,s,o)),o}function Zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ic(t,e){Pd(t,e),(t=t.alternate)&&Pd(t,e)}function V_(){return null}var Sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dc(t){this._internalRoot=t}Da.prototype.render=Dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ia(t,e,null,null)};Da.prototype.unmount=Dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gr(function(){Ia(null,t,null,null)}),e[ln]=null}};function Da(t){this._internalRoot=t}Da.prototype.unstable_scheduleHydration=function(t){if(t){var e=em();t={blockedOn:null,target:t,priority:e};for(var n=0;n<An.length&&e!==0&&e<An[n].priority;n++);An.splice(n,0,t),n===0&&nm(t)}};function Rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wd(){}function L_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Zo(o);i.call(u)}}var o=wp(e,r,t,0,null,!1,!1,"",wd);return t._reactRootContainer=o,t[ln]=o.current,ti(t.nodeType===8?t.parentNode:t),gr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Zo(l);a.call(u)}}var l=Oc(t,0,!1,null,null,!1,!1,"",wd);return t._reactRootContainer=l,t[ln]=l.current,ti(t.nodeType===8?t.parentNode:t),gr(function(){Ia(e,l,n,r)}),l}function ja(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zo(o);a.call(l)}}Ia(e,o,t,s)}else o=L_(n,e,t,s,r);return Zo(o)}Kf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Os(e.pendingLanes);n!==0&&(ec(e,n|1),lt(e,Se()),!(Z&6)&&(ss=Se()+500,Qn()))}break;case 13:gr(function(){var r=un(t,1);if(r!==null){var s=Je();Vt(r,t,1,s)}}),Ic(t,1)}};tc=function(t){if(t.tag===13){var e=un(t,134217728);if(e!==null){var n=Je();Vt(e,t,134217728,n)}Ic(t,134217728)}};Jf=function(t){if(t.tag===13){var e=Rn(t),n=un(t,e);if(n!==null){var r=Je();Vt(n,t,e,r)}Ic(t,e)}};em=function(){return ee};tm=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};Wl=function(t,e,n){switch(e){case"input":if(Rl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ka(r);if(!s)throw Error(E(90));Of(r),Rl(r,s)}}}break;case"textarea":Df(t,n);break;case"select":e=n.value,e!=null&&qr(t,!!n.multiple,e,!1)}};zf=xc;Wf=gr;var $_={usingClientEntryPoint:!1,Events:[Ci,jr,ka,Lf,$f,xc]},Ns={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z_={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||V_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{wa=to.inject(z_),Gt=to}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(e))throw Error(E(200));return F_(t,e,null,n)};yt.createRoot=function(t,e){if(!Rc(t))throw Error(E(299));var n=!1,r="",s=Sp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Oc(t,1,!1,null,null,n,!1,r,s),t[ln]=e.current,ti(t.nodeType===8?t.parentNode:t),new Dc(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=qf(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return gr(t)};yt.hydrate=function(t,e,n){if(!Ra(e))throw Error(E(200));return ja(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!Rc(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Sp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wp(e,null,t,1,n??null,s,!1,i,o),t[ln]=e.current,ti(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Da(e)};yt.render=function(t,e,n){if(!Ra(e))throw Error(E(200));return ja(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!Ra(t))throw Error(E(40));return t._reactRootContainer?(gr(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};yt.unstable_batchedUpdates=xc;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ra(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return ja(t,e,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Tp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tp)}catch(t){console.error(t)}}Tp(),Tf.exports=yt;var W_=Tf.exports,Sd=W_;xl.createRoot=Sd.createRoot,xl.hydrateRoot=Sd.hydrateRoot;function jc(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function U_(t){return t.filter(e=>e===0||e)}function B_(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function q_(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Ap=[0,2,4,-1,1,3,5],H_=Ap.map(t=>Math.floor(t*7/12));function G_(t){const{step:e,alt:n,oct:r,dir:s=1}=t,i=Ap[e]+7*n;if(r===void 0)return[s*i];const o=r-H_[e]-4*n;return[s*i,s*o]}var Td=(t,e)=>Array(Math.abs(e)+1).join(t),Pu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Q_="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",X_="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Y_=new RegExp("^"+Q_+"|"+X_+"$");function Z_(t){const e=Y_.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var Ad={};function wu(t){return typeof t=="string"?Ad[t]||(Ad[t]=K_(t)):q_(t)?wu(ey(t)):B_(t)?wu(t.name):Pu}var kd=[0,2,4,5,7,9,11],kp="PMMPPMM";function K_(t){const e=Z_(t);if(e[0]==="")return Pu;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,i=kp[s];if(i==="M"&&r==="P")return Pu;const o=i==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(s+1),c=J_(o,r),h=Math.floor((Math.abs(n)-1)/7),d=l*(kd[s]+c+12*h),f=(l*(kd[s]+c)%12+12)%12,m=G_({step:s,alt:c,oct:h,dir:l});return{empty:!1,name:a,num:n,q:r,step:s,alt:c,dir:l,type:o,simple:u,semitones:d,chroma:f,coord:m,oct:h}}function J_(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function ey(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const i=e+1+7*r,o=i===0?e+1:i,a=s<0?"-":"",l=kp[e]==="M"?"majorable":"perfectable";return a+o+ty(l,n)}function ty(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?Td("A",e):Td("d",t==="perfectable"?e:e+1)}function ny(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function ry(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Cp=[0,2,4,-1,1,3,5],xp=Cp.map(t=>Math.floor(t*7/12));function sy(t){const{step:e,alt:n,oct:r,dir:s=1}=t,i=Cp[e]+7*n;if(r===void 0)return[s*i];const o=r-xp[e]-4*n;return[s*i,s*o]}var iy=[3,0,4,1,5,2,6];function oy(t){const[e,n,r]=t,s=iy[ay(e)],i=Math.floor((e+1)/7);if(n===void 0)return{step:s,alt:i,dir:r};const o=n+4*i+xp[s];return{step:s,alt:i,oct:o,dir:r}}function ay(t){const e=(t+1)%7;return e<0?7+e:e}var Cd=(t,e)=>Array(Math.abs(e)+1).join(t),Np=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),xd=new Map,ly=t=>"CDEFGAB".charAt(t),Fc=t=>t<0?Cd("b",-t):Cd("#",t),Ep=t=>t[0]==="b"?-t.length:t.length;function Qe(t){const e=JSON.stringify(t),n=xd.get(e);if(n)return n;const r=typeof t=="string"?fy(t):ry(t)?Qe(my(t)):ny(t)?Qe(t.name):Np;return xd.set(e,r),r}var uy=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function cy(t){const e=uy.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function hy(t){return Qe(oy(t))}var dy=(t,e)=>(t%e+e)%e,Sl=[0,2,4,5,7,9,11];function fy(t){const e=cy(t);if(e[0]===""||e[3]!=="")return Np;const n=e[0],r=e[1],s=e[2],i=(n.charCodeAt(0)+3)%7,o=Ep(r),a=s.length?+s:void 0,l=sy({step:i,alt:o,oct:a}),u=n+r+s,c=n+r,h=(Sl[i]+o+120)%12,d=a===void 0?dy(Sl[i]+o,12)-12*99:Sl[i]+o+12*(a+1),f=d>=0&&d<=127?d:null,m=a===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:h,coord:l,freq:m,height:d,letter:n,midi:f,name:u,oct:a,pc:c,step:i}}function my(t){const{step:e,alt:n,oct:r}=t,s=ly(e);if(!s)return"";const i=s+Fc(n);return r||r===0?i+r:i}function Vc(t,e){const n=Qe(t),r=Array.isArray(e)?e:wu(e).coord;if(n.empty||!r||r.length<2)return"";const s=n.coord,i=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return hy(i).name}function py(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function gy(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var bp=[0,2,4,-1,1,3,5],vy=bp.map(t=>Math.floor(t*7/12));function _y(t){const{step:e,alt:n,oct:r,dir:s=1}=t,i=bp[e]+7*n;if(r===void 0)return[s*i];const o=r-vy[e]-4*n;return[s*i,s*o]}var Nd=(t,e)=>Array(Math.abs(e)+1).join(t),Su=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),yy="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",My="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Py=new RegExp("^"+yy+"|"+My+"$");function wy(t){const e=Py.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var Ed={};function Tu(t){return typeof t=="string"?Ed[t]||(Ed[t]=Sy(t)):gy(t)?Tu(Ay(t)):py(t)?Tu(t.name):Su}var bd=[0,2,4,5,7,9,11],Op="PMMPPMM";function Sy(t){const e=wy(t);if(e[0]==="")return Su;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,i=Op[s];if(i==="M"&&r==="P")return Su;const o=i==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(s+1),c=Ty(o,r),h=Math.floor((Math.abs(n)-1)/7),d=l*(bd[s]+c+12*h),f=(l*(bd[s]+c)%12+12)%12,m=_y({step:s,alt:c,oct:h,dir:l});return{empty:!1,name:a,num:n,q:r,step:s,alt:c,dir:l,type:o,simple:u,semitones:d,chroma:f,coord:m,oct:h}}function Ty(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Ay(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const i=e+1+7*r,o=i===0?e+1:i,a=s<0?"-":"",l=Op[e]==="M"?"majorable":"perfectable";return a+o+ky(l,n)}function ky(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?Nd("A",e):Nd("d",t==="perfectable"?e:e+1)}var vt={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Ip=t=>Number(t).toString(2).padStart(12,"0"),Od=t=>parseInt(t,2),Cy=/^[01]{12}$/;function Dp(t){return Cy.test(t)}var xy=t=>typeof t=="number"&&t>=0&&t<=4095,Ny=t=>t&&Dp(t.chroma),Id={[vt.chroma]:vt};function pn(t){const e=Dp(t)?t:xy(t)?Ip(t):Array.isArray(t)?Ry(t):Ny(t)?t.chroma:vt.chroma;return Id[e]=Id[e]||Dy(e)}var Ey=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function by(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(Ey[n]);return e}function Oy(t,e=!0){const r=pn(t).chroma.split("");return U_(r.map((s,i)=>{const o=jc(i,r);return e&&o[0]==="0"?null:o.join("")}))}function Iy(t){const e=t.split("");return e.map((n,r)=>jc(r,e).join(""))}function Dy(t){const e=Od(t),n=Iy(t).map(Od).filter(i=>i>=2048).sort()[0],r=Ip(n),s=by(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:s}}function Ry(t){if(t.length===0)return vt.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=Qe(t[r]),e.empty&&(e=Tu(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var jy=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Fy=jy;({...vt});var Rp=[],yo={};function Vy(t,e,n){const r=$y(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};Rp.push(s),s.name&&(yo[s.name]=s),yo[s.setNum]=s,yo[s.chroma]=s,s.aliases.forEach(i=>Ly(s,i))}function Ly(t,e){yo[e]=t}function $y(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}Fy.forEach(([t,e,n])=>Vy(t.split(" "),n.split(" "),e));Rp.sort((t,e)=>t.setNum-e.setNum);var Us=Vc,zy=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Wy=zy,Uy={...vt,intervals:[],aliases:[]},Bs={};function jp(t){return Bs[t]||Uy}function By(t,e,n=[]){const r={...pn(t),name:e,intervals:t,aliases:n};return Bs[r.name]=r,Bs[r.setNum]=r,Bs[r.chroma]=r,r.aliases.forEach(s=>qy(r,s)),r}function qy(t,e){Bs[e]=t}Wy.forEach(([t,e,...n])=>By(t.split(" "),e,n));var Hy={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Gy(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=Qe(t.substring(0,e));if(n.empty){const s=Qe(t);return s.empty?["",t]:[s.name,""]}const r=t.substring(n.name.length+1).toLowerCase();return[n.name,r.length?r:""]}function Fa(t){const e=Array.isArray(t)?t:Gy(t),n=Qe(e[0]).name,r=jp(e[1]);if(r.empty)return Hy;const s=r.name,i=n?r.intervals.map(a=>Vc(n,a)):[],o=n?n+" "+s:s;return{...r,name:o,type:s,tonic:n,notes:i}}const Fp="14.9.17",Dd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Rd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Au=(t,e)=>({startTime:e,type:"setValue",value:t}),Vp=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Lp=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Ur=t=>t.type==="exponentialRampToValue",Ko=t=>t.type==="linearRampToValue",Tn=t=>Ur(t)||Ko(t),Lc=t=>t.type==="setValue",en=t=>t.type==="setValueCurve",Jo=(t,e,n,r)=>{const s=t[e];return s===void 0?r:Tn(s)||Lc(s)?s.value:en(s)?s.values[s.values.length-1]:Lp(n,Jo(t,e-1,s.startTime,r),s)},jd=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:Tn(n)?[n.endTime,n.value]:Lc(n)?[n.startTime,n.value]:en(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Jo(t,e-1,n.startTime,s)],ku=t=>t.type==="cancelAndHold",Cu=t=>t.type==="cancelScheduledValues",Pn=t=>ku(t)||Cu(t)?t.cancelTime:Ur(t)||Ko(t)?t.endTime:t.startTime,Fd=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,Vd=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),Qy=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},Xy=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return Qy(r,s)},no=t=>t.type==="setTarget";class Yy{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Pn(e);if(ku(e)||Cu(e)){const r=this._automationEvents.findIndex(i=>Cu(e)&&en(i)?i.startTime+i.duration>=n:Pn(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),ku(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Tn(s)){if(i!==void 0&&no(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:en(i)?i.startTime+i.duration:Pn(i),a=i===void 0?this._defaultValue:en(i)?i.values[i.values.length-1]:i.value,l=Ur(s)?Fd(n,o,a,s):Vd(n,o,a,s),u=Ur(s)?Dd(l,n,this._currenTime):Rd(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&no(i)&&this._automationEvents.push(Au(this.getValue(n),n)),i!==void 0&&en(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=Vp(c,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Pn(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&en(s)&&Pn(s)+s.duration>n)return!1;const i=Ur(e)?Dd(e.value,e.endTime,this._currenTime):Ko(e)?Rd(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(en(e)&&n+e.duration>Pn(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Pn(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];no(s)&&r.unshift(Au(Jo(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Pn(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&no(i)&&(r===void 0||!Tn(r)||r.insertTime>e))return Lp(e,Jo(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Lc(i)&&(r===void 0||!Tn(r)))return i.value;if(i!==void 0&&en(i)&&(r===void 0||!Tn(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Xy(e,i):i.values[i.values.length-1];if(i!==void 0&&Tn(i)&&(r===void 0||!Tn(r)))return i.value;if(r!==void 0&&Ur(r)){const[o,a]=jd(this._automationEvents,s,i,r,this._defaultValue);return Fd(e,o,a,r)}if(r!==void 0&&Ko(r)){const[o,a]=jd(this._automationEvents,s,i,r,this._defaultValue);return Vd(e,o,a,r)}return this._defaultValue}}const Zy=t=>({cancelTime:t,type:"cancelAndHold"}),Ky=t=>({cancelTime:t,type:"cancelScheduledValues"}),Jy=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),e0=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),t0=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),n0=()=>new DOMException("","AbortError"),r0=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},s0=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},i0=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},is=new WeakSet,$p=new WeakMap,$c=new WeakMap,zp=new WeakMap,zc=new WeakMap,Va=new WeakMap,Wp=new WeakMap,xu=new WeakMap,Nu=new WeakMap,Eu=new WeakMap,Up={construct(){return Up}},o0=t=>{try{const e=new Proxy(t,Up);new e}catch{return!1}return!0},Ld=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,$d=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(Ld);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(Ld)}return[n.join(";"),r]},zd=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Wd=t=>{if(!o0(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},a0=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{let f=0;return(m,v,M={credentials:"omit"})=>{const p=c.get(m);if(p!==void 0&&p.has(v))return Promise.resolve();const g=u.get(m);if(g!==void 0){const y=g.get(v);if(y!==void 0)return y}const _=i(m),S=_.audioWorklet===void 0?s(v).then(([y,w])=>{const[T,P]=$d(y,w),x=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${P}
})})(window,'_AWGS')`;return n(x)}).then(()=>{const y=d._AWGS.pop();if(y===void 0)throw new SyntaxError;r(_.currentTime,_.sampleRate,()=>y(class{},void 0,(w,T)=>{if(w.trim()==="")throw e();const P=Nu.get(_);if(P!==void 0){if(P.has(w))throw e();Wd(T),zd(T.parameterDescriptors),P.set(w,T)}else Wd(T),zd(T.parameterDescriptors),Nu.set(_,new Map([[w,T]]))},_.sampleRate,void 0,void 0))}):Promise.all([s(v),Promise.resolve(t(h,h))]).then(([[y,w],T])=>{const P=f+1;f=P;const[x,k]=$d(y,w),R=`${x};((AudioWorkletProcessor,registerProcessor)=>{${k}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${P}',class extends AudioWorkletProcessor{process(){return !1}})`,W=new Blob([R],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(W);return _.audioWorklet.addModule($,M).then(()=>{if(a(_))return _;const z=o(_);return z.audioWorklet.addModule($,M).then(()=>z)}).then(z=>{if(l===null)throw new SyntaxError;try{new l(z,`__sac${P}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return g===void 0?u.set(m,new Map([[v,S]])):g.set(v,S),S.then(()=>{const y=c.get(m);y===void 0?c.set(m,new Set([v])):y.add(v)}).finally(()=>{const y=u.get(m);y!==void 0&&y.delete(v)}),S}},$t=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},La=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Bp=(t,e,n,r)=>{const s=$t(t,e),i=La(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},Ni=t=>$t(Wp,t),os=t=>{if(is.has(t))throw new Error("The AudioNode is already stored.");is.add(t),Ni(t).forEach(e=>e(!0))},qp=t=>"port"in t,Ei=t=>{if(!is.has(t))throw new Error("The AudioNode is not stored.");is.delete(t),Ni(t).forEach(e=>e(!1))},bu=(t,e)=>{!qp(t)&&e.every(n=>n.size===0)&&Ei(t)},l0=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{const f=new WeakMap;return(m,v,M,p,g)=>{const{activeInputs:_,passiveInputs:S}=i(v),{outputs:y}=i(m),w=a(m),T=P=>{const x=l(v),k=l(m);if(P){const A=Bp(S,m,M,p);t(_,m,A,!1),!g&&!h(m)&&n(k,x,M,p),d(v)&&os(v)}else{const A=r(_,m,M,p);e(S,p,A,!1),!g&&!h(m)&&s(k,x,M,p);const C=o(v);if(C===0)c(v)&&bu(v,_);else{const O=f.get(v);O!==void 0&&clearTimeout(O),f.set(v,setTimeout(()=>{c(v)&&bu(v,_)},C*1e3))}}};return u(y,[v,M,p],P=>P[0]===v&&P[1]===M&&P[2]===p,!0)?(w.add(T),c(m)?t(_,m,[M,p,T],!0):e(S,p,[m,M,T],!0),!0):!1}},u0=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},c0=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},h0=t=>(e,n)=>{t(e).add(n)},d0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},f0=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...d0,...l},h=r(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Xe=(t,e)=>t.context===e,m0=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Xe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},ea=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Yt=()=>new DOMException("","IndexSizeError"),Wc=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Yt():r}})(t.getChannelData)},p0={numberOfChannels:1},g0=(t,e,n,r,s,i,o,a)=>{let l=null;return class Hp{constructor(c){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:f}={...p0,...c};l===null&&(l=new s(1,1,44100));const m=r!==null&&e(i,i)?new r({length:h,numberOfChannels:d,sampleRate:f}):l.createBuffer(d,h,f);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(o(m),Wc(m)):e(ea,()=>ea(m))||a(m),t.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===Hp.prototype||t.has(c)}}},st=-34028234663852886e22,Ze=-st,on=t=>is.has(t),v0={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},_0=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...v0,...c},f=s(h,d),m=o(h),v=m?e():null;super(u,!1,f,v),this._audioBufferSourceNodeRenderer=v,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,m,f.playbackRate,Ze,st)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){os(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),on(this)&&Ei(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},y0=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Xe(h,c);if(!d){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,f),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await r(c,u.playbackRate,h.playbackRate),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},M0=t=>"playbackRate"in t,P0=t=>"frequency"in t&&"gain"in t,w0=t=>"offset"in t,S0=t=>!("frequency"in t)&&"gain"in t,T0=t=>"detune"in t&&"frequency"in t&&!("gain"in t),A0=t=>"pan"in t,Ke=t=>$t($p,t),bi=t=>$t(zp,t),Ou=(t,e)=>{const{activeInputs:n}=Ke(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Ou(i,[...e,t])}));const r=M0(t)?[t.playbackRate]:qp(t)?Array.from(t.parameters.values()):P0(t)?[t.Q,t.detune,t.frequency,t.gain]:w0(t)?[t.offset]:S0(t)?[t.gain]:T0(t)?[t.detune,t.frequency]:A0(t)?[t.pan]:[];for(const s of r){const i=bi(s);i!==void 0&&i.activeInputs.forEach(([o])=>Ou(o,e))}on(t)&&Ei(t)},Gp=t=>{Ou(t.destination,[])},k0=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),C0=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(h===null)throw r();if(!k0(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:f}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/f:d==="interactive"||d===void 0?256/f:d==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(d*f/128)))*128/f,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",m)};h.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Gp(this)}))}createMediaElementSource(c){return new s(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},x0=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),f=s(h,c,d),m=d?e(a):null;super(u,!1,f,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},N0=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},E0=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const y=new Float32Array(1),w=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=o(u);let P=!1,x=[0,0,-1,0,1,0],k=[0,0,0];const A=()=>{if(P)return;P=!0;const W=r(u,256,9,0);W.onaudioprocess=({inputBuffer:$})=>{const z=[i($,y,0),i($,y,1),i($,y,2),i($,y,3),i($,y,4),i($,y,5)];z.some((b,I)=>b!==x[I])&&(c.setOrientation(...z),x=z);const N=[i($,y,6),i($,y,7),i($,y,8)];N.some((b,I)=>b!==k[I])&&(c.setPosition(...N),k=N)},w.connect(W)},C=W=>$=>{$!==x[W]&&(x[W]=$,c.setOrientation(...x))},O=W=>$=>{$!==k[W]&&(k[W]=$,c.setPosition(...k))},R=(W,$,z)=>{const N=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});N.connect(w,0,W),N.start(),Object.defineProperty(N.offset,"defaultValue",{get(){return $}});const b=t({context:l},T,N.offset,Ze,st);return a(b,"value",I=>()=>I.call(b),I=>V=>{try{I.call(b,V)}catch(B){if(B.code!==9)throw B}A(),T&&z(V)}),b.cancelAndHoldAtTime=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.cancelAndHoldAtTime),b.cancelScheduledValues=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.cancelScheduledValues),b.exponentialRampToValueAtTime=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.exponentialRampToValueAtTime),b.linearRampToValueAtTime=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.linearRampToValueAtTime),b.setTargetAtTime=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.setTargetAtTime),b.setValueAtTime=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.setValueAtTime),b.setValueCurveAtTime=(I=>T?()=>{throw s()}:(...V)=>{const B=I.apply(b,V);return A(),B})(b.setValueCurveAtTime),b};return{forwardX:R(0,0,C(0)),forwardY:R(1,0,C(1)),forwardZ:R(2,-1,C(2)),positionX:R(6,0,O(0)),positionY:R(7,0,O(1)),positionZ:R(8,0,O(2)),upX:R(3,0,C(3)),upY:R(4,1,C(4)),upZ:R(5,0,C(5))}},{forwardX:d,forwardY:f,forwardZ:m,positionX:v,positionY:M,positionZ:p,upX:g,upY:_,upZ:S}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return f},get forwardZ(){return m},get positionX(){return v},get positionY(){return M},get positionZ(){return p},get upX(){return g},get upY(){return _},get upZ(){return S}}},ta=t=>"context"in t,Oi=t=>ta(t[0]),Tr=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Ud=(t,e,[n,r],s)=>{Tr(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},Bd=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Tr(i,[n,r],o=>o[0]===n,s)},ps=t=>"inputs"in t,na=(t,e,n,r)=>{if(ps(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},Qp=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},b0=(t,e,n)=>La(t,r=>r[0]===e&&r[1]===n),Xp=(t,e)=>{if(!Ni(t).delete(e))throw new Error("Missing the expected event listener.")},Yp=(t,e,n)=>{const r=$t(t,e),s=La(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},ra=(t,e,n,r)=>{ps(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},le=t=>$t($c,t),ci=t=>$t(zc,t),vr=t=>xu.has(t),Mo=t=>!is.has(t),qd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),Tl=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},sa=t=>"context"in t,O0=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=sa(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{sa(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},I0=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=bi(e),{outputs:o}=Ke(t),a=Ni(t),l=u=>{const c=le(t),h=ci(e);if(u){const d=Yp(i,t,n);Ud(s,t,d,!1),!r&&!vr(t)&&c.connect(h,n)}else{const d=b0(s,t,n);Bd(i,d,!1),!r&&!vr(t)&&c.disconnect(h,n)}};return Tr(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),on(t)?Ud(s,t,[n,l],!0):Bd(i,[t,n,l],!0),!0):!1},D0=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Ke(e),o=Qp(s[r],t,n);return o===null?[Bp(i,t,n,r)[2],!1]:[o[2],!0]},R0=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=bi(e),i=Qp(r,t,n);return i===null?[Yp(s,t,n)[1],!1]:[i[2],!0]},Uc=(t,e,n,r,s)=>{const[i,o]=D0(t,n,r,s);if(i!==null&&(Xp(t,i),o&&!e&&!vr(t)&&ra(le(t),le(n),r,s)),on(n)){const{activeInputs:a}=Ke(n);bu(n,a)}},Bc=(t,e,n,r)=>{const[s,i]=R0(t,n,r);s!==null&&(Xp(t,s),i&&!e&&!vr(t)&&le(t).disconnect(ci(n),r))},j0=(t,e)=>{const n=Ke(t),r=[];for(const s of n.outputs)Oi(s)?Uc(t,e,...s):Bc(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},F0=(t,e,n)=>{const r=Ke(t),s=[];for(const i of r.outputs)i[1]===n&&(Oi(i)?Uc(t,e,...i):Bc(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},V0=(t,e,n,r,s)=>{const i=Ke(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(Oi(o)?Uc(t,e,...o):Bc(t,e,...o),i.outputs.delete(o),o[0]))},L0=(t,e,n,r,s,i,o,a,l,u,c,h,d,f,m,v)=>class extends u{constructor(p,g,_,S){super(_),this._context=p,this._nativeAudioNode=_;const y=c(p);h(y)&&n(qd,()=>qd(y,v))!==!0&&O0(_),$c.set(this,_),Wp.set(this,new Set),p.state!=="closed"&&g&&os(this),t(this,S,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(p){this._nativeAudioNode.channelCount=p}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(p){this._nativeAudioNode.channelCountMode=p}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(p){this._nativeAudioNode.channelInterpretation=p}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(p,g=0,_=0){if(g<0||g>=this._nativeAudioNode.numberOfOutputs)throw s();const S=c(this._context),y=m(S);if(d(p)||f(p))throw i();if(ta(p)){const P=le(p);try{const k=na(this._nativeAudioNode,P,g,_),A=Mo(this);(y||A)&&this._nativeAudioNode.disconnect(...k),this.context.state!=="closed"&&!A&&Mo(p)&&os(p)}catch(k){throw k.code===12?i():k}if(e(this,p,g,_,y)){const k=l([this],p);Tl(k,r(y))}return p}const w=ci(p);if(w.name==="playbackRate"&&w.maxValue===1024)throw o();try{this._nativeAudioNode.connect(w,g),(y||Mo(this))&&this._nativeAudioNode.disconnect(w,g)}catch(P){throw P.code===12?i():P}if(I0(this,p,g,y)){const P=l([this],p);Tl(P,r(y))}}disconnect(p,g,_){let S;const y=c(this._context),w=m(y);if(p===void 0)S=j0(this,w);else if(typeof p=="number"){if(p<0||p>=this.numberOfOutputs)throw s();S=F0(this,w,p)}else{if(g!==void 0&&(g<0||g>=this.numberOfOutputs)||ta(p)&&_!==void 0&&(_<0||_>=p.numberOfInputs))throw s();if(S=V0(this,w,p,g,_),S.length===0)throw i()}for(const T of S){const P=l([this],T);Tl(P,a)}}},$0=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(f,m,v,M=null,p=null)=>{const g=v.value,_=new Yy(g),S=m?r(_):null,y={get defaultValue(){return g},get maxValue(){return M===null?v.maxValue:M},get minValue(){return p===null?v.minValue:p},get value(){return v.value},set value(w){v.value=w,y.setValueAtTime(w,f.context.currentTime)},cancelAndHoldAtTime(w){if(typeof v.cancelAndHoldAtTime=="function")S===null&&_.flush(f.context.currentTime),_.add(s(w)),v.cancelAndHoldAtTime(w);else{const T=Array.from(_).pop();S===null&&_.flush(f.context.currentTime),_.add(s(w));const P=Array.from(_).pop();v.cancelScheduledValues(w),T!==P&&P!==void 0&&(P.type==="exponentialRampToValue"?v.exponentialRampToValueAtTime(P.value,P.endTime):P.type==="linearRampToValue"?v.linearRampToValueAtTime(P.value,P.endTime):P.type==="setValue"?v.setValueAtTime(P.value,P.startTime):P.type==="setValueCurve"&&v.setValueCurveAtTime(P.values,P.startTime,P.duration))}return y},cancelScheduledValues(w){return S===null&&_.flush(f.context.currentTime),_.add(i(w)),v.cancelScheduledValues(w),y},exponentialRampToValueAtTime(w,T){if(w===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;const P=f.context.currentTime;return S===null&&_.flush(P),Array.from(_).length===0&&(_.add(u(g,P)),v.setValueAtTime(g,P)),_.add(o(w,T)),v.exponentialRampToValueAtTime(w,T),y},linearRampToValueAtTime(w,T){const P=f.context.currentTime;return S===null&&_.flush(P),Array.from(_).length===0&&(_.add(u(g,P)),v.setValueAtTime(g,P)),_.add(a(w,T)),v.linearRampToValueAtTime(w,T),y},setTargetAtTime(w,T,P){return S===null&&_.flush(f.context.currentTime),_.add(l(w,T,P)),v.setTargetAtTime(w,T,P),y},setValueAtTime(w,T){return S===null&&_.flush(f.context.currentTime),_.add(u(w,T)),v.setValueAtTime(w,T),y},setValueCurveAtTime(w,T,P){const x=w instanceof Float32Array?w:new Float32Array(w);if(h!==null&&h.name==="webkitAudioContext"){const k=T+P,A=f.context.sampleRate,C=Math.ceil(T*A),O=Math.floor(k*A),R=O-C,W=new Float32Array(R);for(let z=0;z<R;z+=1){const N=(x.length-1)/P*((C+z)/A-T),b=Math.floor(N),I=Math.ceil(N);W[z]=b===I?x[b]:(1-(N-b))*x[b]+(1-(I-N))*x[I]}S===null&&_.flush(f.context.currentTime),_.add(c(W,T,P)),v.setValueCurveAtTime(W,T,P);const $=O/A;$<k&&d(y,W[W.length-1],$),d(y,x[x.length-1],k)}else S===null&&_.flush(f.context.currentTime),_.add(c(x,T,P)),v.setValueCurveAtTime(x,T,P);return y}};return n.set(y,v),e.set(y,f),t(y,S),y},z0=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class Zp{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const W0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},U0=(t,e,n,r,s,i,o,a,l,u,c,h,d,f)=>class extends e{constructor(v,M,p){var g;const _=a(v),S=l(_),y=c({...W0,...p});d(y);const w=Nu.get(_),T=w==null?void 0:w.get(M),P=S||_.state!=="closed"?_:(g=o(_))!==null&&g!==void 0?g:_,x=s(P,S?null:v.baseLatency,u,M,T,y),k=S?r(M,y,T):null;super(v,!0,x,k);const A=[];x.parameters.forEach((O,R)=>{const W=n(this,S,O);A.push([R,W])}),this._nativeAudioWorkletNode=x,this._onprocessorerror=null,this._parameters=new Zp(A),S&&t(_,this);const{activeInputs:C}=i(this);h(x,C)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(v){const M=typeof v=="function"?f(this,v):null;this._nativeAudioWorkletNode.onprocessorerror=M;const p=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=p!==null&&p===M?v:p}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ia(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Kp=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},oa=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},B0=(t,e)=>{const n=$t(Eu,t),r=le(e);return $t(n,r)},q0=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=s.reduce((M,p)=>M+p,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=Ke(t),d=await B0(n,t),f=oa(r.numberOfInputs,r.channelCount),m=oa(r.numberOfOutputs,s),v=Array.from(t.parameters.keys()).reduce((M,p)=>({...M,[p]:new Float32Array(128)}),{});for(let M=0;M<a;M+=128){if(r.numberOfInputs>0&&e!==null)for(let p=0;p<r.numberOfInputs;p+=1)for(let g=0;g<r.channelCount;g+=1)ia(e,f[p],g,g,M);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:p},g)=>{ia(e,v,p,l+g,M)});for(let p=0;p<r.numberOfInputs;p+=1)for(let g=0;g<s[p];g+=1)m[p][g].byteLength===0&&(m[p][g]=new Float32Array(128));try{const p=f.map((_,S)=>h.activeInputs[S].size===0?[]:_),g=o(M/n.sampleRate,n.sampleRate,()=>d.process(p,m,v));if(c!==null)for(let _=0,S=0;_<r.numberOfOutputs;_+=1){for(let y=0;y<s[_];y+=1)Kp(c,m[_],y,S+y,M);S+=s[_]}if(!g)break}catch(p){t.dispatchEvent(new ErrorEvent("processorerror",{colno:p.colno,filename:p.filename,lineno:p.lineno,message:p.message}));break}}return c},H0=(t,e,n,r,s,i,o,a,l,u,c,h,d,f,m,v)=>(M,p,g)=>{const _=new WeakMap;let S=null;const y=async(w,T)=>{let P=c(w),x=null;const k=Xe(P,T),A=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(h===null){const C=A.reduce(($,z)=>$+z,0),O=s(T,{channelCount:Math.max(1,C),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,C)}),R=[];for(let $=0;$<w.numberOfOutputs;$+=1)R.push(r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[$]}));const W=o(T,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1});W.connect=e.bind(null,R),W.disconnect=l.bind(null,R),x=[O,R,W]}else k||(P=new h(T,M));if(_.set(T,x===null?P:x[2]),x!==null){if(S===null){if(g===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const z=w.channelCount*w.numberOfInputs,N=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length,b=z+N;S=q0(w,b===0?null:await(async()=>{const V=new d(b,Math.ceil(w.context.length/128)*128,T.sampleRate),B=[],De=[];for(let K=0;K<p.numberOfInputs;K+=1)B.push(o(V,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),De.push(s(V,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const Me=await Promise.all(Array.from(w.parameters.values()).map(async K=>{const Ae=i(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K.value});return await f(V,K,Ae.offset),Ae})),G=r(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,z+N)});for(let K=0;K<p.numberOfInputs;K+=1){B[K].connect(De[K]);for(let Ae=0;Ae<p.channelCount;Ae+=1)De[K].connect(G,Ae,K*p.channelCount+Ae)}for(const[K,Ae]of Me.entries())Ae.connect(G,0,z+K),Ae.start(0);return G.connect(V.destination),await Promise.all(B.map(K=>m(w,V,K))),v(V)})(),T,p,A,g,u)}const C=await S,O=n(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[R,W,$]=x;C!==null&&(O.buffer=C,O.start(0)),O.connect(R);for(let z=0,N=0;z<w.numberOfOutputs;z+=1){const b=W[z];for(let I=0;I<A[z];I+=1)R.connect(b,N+I,I);N+=A[z]}return $}if(k)for(const[C,O]of w.parameters.entries())await t(T,O,P.parameters.get(C));else for(const[C,O]of w.parameters.entries())await f(T,O,P.parameters.get(C));return await m(w,T,P),P};return{render(w,T){a(T,w);const P=_.get(T);return P!==void 0?Promise.resolve(P):y(w,T)}}},G0=(t,e,n,r,s,i,o,a,l,u,c,h,d,f,m,v,M,p,g,_)=>class extends m{constructor(y,w){super(y,w),this._nativeContext=y,this._audioWorklet=t===void 0?void 0:{addModule:(T,P)=>t(this,T,P)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(y,w,T){return new n({length:w,numberOfChannels:y,sampleRate:T})}createBufferSource(){return new r(this)}createChannelMerger(y=6){return new i(this,{numberOfInputs:y})}createChannelSplitter(y=6){return new o(this,{numberOfOutputs:y})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(y=1){return new c(this,{maxDelayTime:y})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(y,w){return new f(this,{feedback:w,feedforward:y})}createOscillator(){return new v(this)}createPanner(){return new M(this)}createPeriodicWave(y,w,T={disableNormalization:!1}){return new p(this,{...T,imag:w,real:y})}createStereoPanner(){return new g(this)}createWaveShaper(){return new _(this)}decodeAudioData(y,w,T){return u(this._nativeContext,y).then(P=>(typeof w=="function"&&w(P),P),P=>{throw typeof T=="function"&&T(P),P})}},Q0={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},X0=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Q0,...c},f=s(h,d),m=o(h),v=m?n():null;super(u,!1,f,v),this._Q=e(this,m,f.Q,Ze,st),this._detune=e(this,m,f.detune,1200*Math.log2(Ze),-1200*Math.log2(Ze)),this._frequency=e(this,m,f.frequency,u.sampleRate/2,0),this._gain=e(this,m,f.gain,40*Math.log10(Ze),st),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?r():d}if(u.length!==c.length||c.length!==h.length)throw r()}},Y0=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Xe(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Z0=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},K0={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},J0=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),u={...K0,...a},c=n(l,u),h=s(l)?e():null;super(o,!1,c,h)}},eM=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Xe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},tM={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},nM=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=i({...tM,...l}),h=n(u,c),d=s(u)?e():null;super(a,!1,h,d)}},rM=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Xe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},sM=t=>(e,n,r)=>t(n,e,r),iM=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return sa(n)?i.connect(n,0,s):i.connect(n,0)},oM=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},aM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},lM=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...aM,...u},d=r(c,h),f=i(c),m=f?n():null;super(l,!1,d,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=d,this._offset=e(this,f,d.offset,Ze,st),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){os(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),on(this)&&Ei(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},uM=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Xe(h,c);if(!d){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,f),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await r(c,u.offset,h.offset),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},cM=t=>e=>(t[0]=e,t[0]),hM={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},dM=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c={...hM,...l},h=n(u,c),f=s(u)?e():null;super(a,!1,h,f),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},fM=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Xe(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),ps(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},mM=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},pM=()=>new DOMException("","DataCloneError"),Hd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},gM=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const f=o(h)?h:i(h);if(s.has(d)){const m=n();return Promise.reject(m)}try{s.add(d)}catch{}return e(l,()=>l(f))?f.decodeAudioData(d).then(m=>(Hd(d).catch(()=>{}),e(a,()=>a(m))||c(m),t.add(m),m)):new Promise((m,v)=>{const M=async()=>{try{await Hd(d)}catch{}},p=g=>{v(g),M()};try{f.decodeAudioData(d,g=>{typeof g.copyFromChannel!="function"&&(u(g),Wc(g)),t.add(g),M().then(()=>m(g))},g=>{p(g===null?r():g)})}catch(g){p(g)}})},vM=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const f=r(l),{outputs:m}=n(l);for(const v of m)if(Oi(v)){const M=r(v[0]);t(f,M,v[1],v[2])}else{const M=s(v[0]);f.connect(M,v[1])}}}else e.set(l,c-u)},_M={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},yM=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={..._M,...u},d=r(c,h),f=i(c),m=f?n(h.maxDelayTime):null;super(l,!1,d,m),this._delayTime=e(this,f,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},MM=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Xe(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await r(u,l.delayTime,c.delayTime),await s(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},PM=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),wM=t=>(e,n)=>{t(e).delete(n)},SM=t=>"delayTime"in t,TM=(t,e,n)=>function r(s,i){const o=ta(i)?i:n(t,i);if(SM(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,u)=>l.concat(u),[])},ro=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},AM=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?ro(t,e,n).disconnect():sa(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?ro(t,e,r).disconnect(n,0):ro(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):ro(t,e,r).disconnect(n,0),kM={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},CM=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...kM,...c},f=r(h,d),m=o(h),v=m?n():null;super(u,!1,f,v),this._attack=e(this,m,f.attack),this._knee=e(this,m,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,m,f.ratio),this._release=e(this,m,f.release),this._threshold=e(this,m,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},xM=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Xe(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},NM=()=>new DOMException("","EncodingError"),EM=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,f,m)=>{if(h===a||h===t.location.href&&d===1&&f===1)return u(),r(m),!1;if(l!==null)return l(c,h,d,f,m)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",s.appendChild(i)}}),bM=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},OM=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},IM=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},DM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},RM=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...DM,...l},h=r(u,c),d=i(u),f=d?n():null;super(a,!1,h,f),this._gain=e(this,d,h.gain,Ze,st)}get gain(){return this._gain}},jM=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Xe(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},FM=(t,e)=>n=>e(t,n),VM=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},LM=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},$M=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},zM=t=>e=>t.get(e),Fe=()=>new DOMException("","InvalidStateError"),WM=t=>e=>{const n=t.get(e);if(n===void 0)throw Fe();return n},UM=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},BM=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},$a=()=>new DOMException("","InvalidAccessError"),qM=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw $a();return e.call(t,n,r,s)})(t.getFrequencyResponse)},HM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},GM=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=s(u),h={...HM,...l},d=e(u,c?null:a.baseLatency,h),f=c?n(h.feedback,h.feedforward):null;super(a,!1,d,f),qM(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},Jp=(t,e,n,r,s,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let f=0;f<h;f+=1){let m=n[0]*u[f];for(let v=1;v<s;v+=1){const M=d-v&l-1;m+=n[v]*i[M],m-=t[v]*o[M]}for(let v=s;v<r;v+=1)m+=n[v]*i[d-v&l-1];for(let v=s;v<e;v+=1)m-=t[v]*o[d-v&l-1];i[d]=u[f],o[d]=m,d=d+1&l-1,c[f]=m}return d},QM=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let m=0;m<o;m+=1)i[m]/=s[0];for(let m=1;m<a;m+=1)s[m]/=s[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let m=0;m<f;m+=1){const v=t.getChannelData(m),M=d.getChannelData(m);c.fill(0),h.fill(0),Jp(s,o,i,a,l,c,h,0,u,v,M)}return d},XM=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,f=e(c);const m=Xe(f,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(f=h.createIIRFilter(o,i)),a.set(h,d===null?f:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const M=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await r(c,M,M.destination);const p=await s(M);return QM(p,h,i,o)})()}const v=await l;return d.buffer=v,d.start(0),d}return await r(c,h,f),f};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},YM=(t,e,n,r,s,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=r(a),{outputs:h}=n(a);for(const d of h)if(Oi(d)){const f=r(d[0]);e(c,f,d[1],d[2])}else{const f=s(d[0]);c.disconnect(f,d[1])}}t.set(a,l)}else t.set(a,u+l)},ZM=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},KM=(t,e)=>n=>t.has(n)||e(n),JM=(t,e)=>n=>t.has(n)||e(n),eP=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},tP=t=>e=>t!==null&&e instanceof t,nP=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,rP=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,sP=(t,e)=>n=>t(n)||e(n),iP=t=>e=>t!==null&&e instanceof t,oP=t=>t!==null&&t.isSecureContext,aP=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},lP={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},uP=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={...lP,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},cP=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},hP=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},dP=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Va.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},hi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},fP=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&r(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&s()})(n.disconnect),n},ce=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Oe=(t,e)=>{ce(t,e,"channelCount"),ce(t,e,"channelCountMode"),ce(t,e,"channelInterpretation")},Gd=t=>typeof t.getFloatTimeDomainData=="function",mP=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},pP=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(Oe(s,r),!(r.maxDecibels>r.minDecibels))throw e();return ce(s,r,"fftSize"),ce(s,r,"maxDecibels"),ce(s,r,"minDecibels"),ce(s,r,"smoothingTimeConstant"),t(Gd,()=>Gd(s))||mP(s),s},gP=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,_e=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},vP=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Fe();e.call(t,r,s,i),n=!0}})(t.start)},qc=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Hc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},_P=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const f=h.createBufferSource();return Oe(f,d),_e(f,d,"playbackRate"),ce(f,d,"buffer"),ce(f,d,"loop"),ce(f,d,"loopEnd"),ce(f,d,"loopStart"),e(n,()=>n(h))||vP(f),e(r,()=>r(h))||l(f),e(s,()=>s(h))||u(f,h),e(i,()=>i(h))||qc(f),e(o,()=>o(h))||c(f,h),e(a,()=>a(h))||Hc(f),t(h,f),f},yP=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,MP=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},PP=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,wP=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},SP=(t,e,n,r,s)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let f=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:m=>{typeof f=="function"&&h.removeEventListener("processorerror",f),f=typeof m=="function"?m:null,typeof f=="function"&&h.addEventListener("processorerror",f)}}}),h.addEventListener=(m=>(...v)=>{if(v[0]==="processorerror"){const M=typeof v[1]=="function"?v[1]:typeof v[1]=="object"&&v[1]!==null&&typeof v[1].handleEvent=="function"?v[1].handleEvent:null;if(M!==null){const p=d.get(v[1]);p!==void 0?v[1]=p:(v[1]=g=>{g.type==="error"?(Object.defineProperties(g,{type:{value:"processorerror"}}),M(g)):M(new ErrorEvent(v[0],{...g}))},d.set(M,v[1]))}}return m.call(h,"error",v[1],v[2]),m.call(h,...v)})(h.addEventListener),h.removeEventListener=(m=>(...v)=>{if(v[0]==="processorerror"){const M=d.get(v[1]);M!==void 0&&(d.delete(v[1]),v[1]=M)}return m.call(h,"error",v[1],v[2]),m.call(h,v[0],v[1],v[2])})(h.removeEventListener),c.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(m).connect(i.destination),s(h,()=>m.disconnect(),()=>m.connect(i.destination))}return h}catch(h){throw h.code===11?r():h}if(u===void 0)throw r();return wP(c),e(i,o,u,c)},e1=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),TP=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),AP=async(t,e)=>{const n=await TP(e);return new t(n)},kP=(t,e,n,r)=>{let s=Eu.get(t);s===void 0&&(s=new WeakMap,Eu.set(t,s));const i=AP(n,r);return s.set(e,i),i},CP=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(f,m,v,M)=>{if(M.numberOfInputs===0&&M.numberOfOutputs===0)throw l();const p=Array.isArray(M.outputChannelCount)?M.outputChannelCount:Array.from(M.outputChannelCount);if(p.some(F=>F<1))throw l();if(p.length!==M.numberOfOutputs)throw e();if(M.channelCountMode!=="explicit")throw l();const g=M.channelCount*M.numberOfInputs,_=p.reduce((F,q)=>F+q,0),S=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length;if(g+S>6||_>6)throw l();const y=new MessageChannel,w=[],T=[];for(let F=0;F<M.numberOfInputs;F+=1)w.push(o(f,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1})),T.push(s(f,{channelCount:M.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:M.channelCount}));const P=[];if(v.parameterDescriptors!==void 0)for(const{defaultValue:F,maxValue:q,minValue:Ne,name:de}of v.parameterDescriptors){const J=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:M.parameterData[de]!==void 0?M.parameterData[de]:F===void 0?0:F});Object.defineProperties(J.offset,{defaultValue:{get:()=>F===void 0?0:F},maxValue:{get:()=>q===void 0?Ze:q},minValue:{get:()=>Ne===void 0?st:Ne}}),P.push(J)}const x=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,g+S)}),k=e1(m,f.sampleRate),A=a(f,k,g+S,Math.max(1,_)),C=s(f,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),O=[];for(let F=0;F<M.numberOfOutputs;F+=1)O.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:p[F]}));for(let F=0;F<M.numberOfInputs;F+=1){w[F].connect(T[F]);for(let q=0;q<M.channelCount;q+=1)T[F].connect(x,q,F*M.channelCount+q)}const R=new Zp(v.parameterDescriptors===void 0?[]:v.parameterDescriptors.map(({name:F},q)=>{const Ne=P[q];return Ne.connect(x,0,g+q),Ne.start(0),[F,Ne.offset]}));x.connect(A);let W=M.channelInterpretation,$=null;const z=M.numberOfOutputs===0?[A]:O,N={get bufferSize(){return k},get channelCount(){return M.channelCount},set channelCount(F){throw n()},get channelCountMode(){return M.channelCountMode},set channelCountMode(F){throw n()},get channelInterpretation(){return W},set channelInterpretation(F){for(const q of w)q.channelInterpretation=F;W=F},get context(){return A.context},get inputs(){return w},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(F){typeof $=="function"&&N.removeEventListener("processorerror",$),$=typeof F=="function"?F:null,typeof $=="function"&&N.addEventListener("processorerror",$)},get parameters(){return R},get port(){return y.port2},addEventListener(...F){return A.addEventListener(F[0],F[1],F[2])},connect:t.bind(null,z),disconnect:u.bind(null,z),dispatchEvent(...F){return A.dispatchEvent(F[0])},removeEventListener(...F){return A.removeEventListener(F[0],F[1],F[2])}},b=new Map;y.port1.addEventListener=(F=>(...q)=>{if(q[0]==="message"){const Ne=typeof q[1]=="function"?q[1]:typeof q[1]=="object"&&q[1]!==null&&typeof q[1].handleEvent=="function"?q[1].handleEvent:null;if(Ne!==null){const de=b.get(q[1]);de!==void 0?q[1]=de:(q[1]=J=>{c(f.currentTime,f.sampleRate,()=>Ne(J))},b.set(Ne,q[1]))}}return F.call(y.port1,q[0],q[1],q[2])})(y.port1.addEventListener),y.port1.removeEventListener=(F=>(...q)=>{if(q[0]==="message"){const Ne=b.get(q[1]);Ne!==void 0&&(b.delete(q[1]),q[1]=Ne)}return F.call(y.port1,q[0],q[1],q[2])})(y.port1.removeEventListener);let I=null;Object.defineProperty(y.port1,"onmessage",{get:()=>I,set:F=>{typeof I=="function"&&y.port1.removeEventListener("message",I),I=typeof F=="function"?F:null,typeof I=="function"&&(y.port1.addEventListener("message",I),y.port1.start())}}),v.prototype.port=y.port1;let V=null;kP(f,N,v,M).then(F=>V=F);const De=oa(M.numberOfInputs,M.channelCount),Me=oa(M.numberOfOutputs,p),G=v.parameterDescriptors===void 0?[]:v.parameterDescriptors.reduce((F,{name:q})=>({...F,[q]:new Float32Array(128)}),{});let K=!0;const Ae=()=>{M.numberOfOutputs>0&&A.disconnect(C);for(let F=0,q=0;F<M.numberOfOutputs;F+=1){const Ne=O[F];for(let de=0;de<p[F];de+=1)C.disconnect(Ne,q+de,de);q+=p[F]}},U=new Map;A.onaudioprocess=({inputBuffer:F,outputBuffer:q})=>{if(V!==null){const Ne=h(N);for(let de=0;de<k;de+=128){for(let J=0;J<M.numberOfInputs;J+=1)for(let ge=0;ge<M.channelCount;ge+=1)ia(F,De[J],ge,ge,de);v.parameterDescriptors!==void 0&&v.parameterDescriptors.forEach(({name:J},ge)=>{ia(F,G,J,g+ge,de)});for(let J=0;J<M.numberOfInputs;J+=1)for(let ge=0;ge<p[J];ge+=1)Me[J][ge].byteLength===0&&(Me[J][ge]=new Float32Array(128));try{const J=De.map((Pt,yn)=>{if(Ne[yn].size>0)return U.set(yn,k/128),Pt;const Ya=U.get(yn);return Ya===void 0?[]:(Pt.every(fg=>fg.every(mg=>mg===0))&&(Ya===1?U.delete(yn):U.set(yn,Ya-1)),Pt)});K=c(f.currentTime+de/f.sampleRate,f.sampleRate,()=>V.process(J,Me,G));for(let Pt=0,yn=0;Pt<M.numberOfOutputs;Pt+=1){for(let Ps=0;Ps<p[Pt];Ps+=1)Kp(q,Me[Pt],Ps,yn+Ps,de);yn+=p[Pt]}}catch(J){K=!1,N.dispatchEvent(new ErrorEvent("processorerror",{colno:J.colno,filename:J.filename,lineno:J.lineno,message:J.message}))}if(!K){for(let J=0;J<M.numberOfInputs;J+=1){w[J].disconnect(T[J]);for(let ge=0;ge<M.channelCount;ge+=1)T[de].disconnect(x,ge,J*M.channelCount+ge)}if(v.parameterDescriptors!==void 0){const J=v.parameterDescriptors.length;for(let ge=0;ge<J;ge+=1){const Pt=P[ge];Pt.disconnect(x,0,g+ge),Pt.stop()}}x.disconnect(A),A.onaudioprocess=null,Zn?Ae():xr();break}}}};let Zn=!1;const Kn=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Cr=()=>A.connect(Kn).connect(f.destination),xr=()=>{A.disconnect(Kn),Kn.disconnect()},hg=()=>{if(K){xr(),M.numberOfOutputs>0&&A.connect(C);for(let F=0,q=0;F<M.numberOfOutputs;F+=1){const Ne=O[F];for(let de=0;de<p[F];de+=1)C.connect(Ne,q+de,de);q+=p[F]}}Zn=!0},dg=()=>{K&&(Cr(),Ae()),Zn=!1};return Cr(),d(N,hg,dg)},t1=(t,e)=>{const n=t.createBiquadFilter();return Oe(n,e),_e(n,e,"Q"),_e(n,e,"detune"),_e(n,e,"frequency"),_e(n,e,"gain"),ce(n,e,"type"),n},xP=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),Oe(s,r),s},NP=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Fe()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Fe()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Fe()}})},Ii=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Oe(n,e),NP(n),n},EP=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Oe(a,o),_e(a,o,"offset"),e(r,()=>r(i))||qc(a),e(s,()=>s(i))||Hc(a),t(i,a),a},gs=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),bP=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(s,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(m){u.channelCount=m},get channelCountMode(){return u.channelCountMode},set channelCountMode(m){u.channelCountMode=m},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(m){u.channelInterpretation=m},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},d=()=>l.connect(u),f=()=>l.disconnect(u);return t(s,l),r(gs(h,u),d,f)},OP=(t,e)=>(n,r)=>{const s=n.createConvolver();if(Oe(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),ce(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},n1=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Oe(n,e),_e(n,e,"delayTime"),n},IP=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Oe(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return _e(r,n,"attack"),_e(r,n,"knee"),_e(r,n,"ratio"),_e(r,n,"release"),_e(r,n,"threshold"),r},ct=(t,e)=>{const n=t.createGain();return Oe(n,e),_e(n,e,"gain"),n},DP=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return Oe(s,r),s};function RP(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function jP(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Qd(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=jP(n,e),n[0]+=t[r];return n}const FP=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=e1(i,s.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),f=c instanceof Float64Array?c:new Float64Array(c),m=d.length,v=f.length,M=Math.min(m,v);if(m===0||m>20)throw r();if(d[0]===0)throw e();if(v===0||v>20)throw r();if(f[0]===0)throw e();if(d[0]!==1){for(let P=0;P<v;P+=1)f[P]/=d[0];for(let P=1;P<m;P+=1)d[P]/=d[0]}const p=n(s,h,o,o);p.channelCount=o,p.channelCountMode=a,p.channelInterpretation=l;const g=32,_=[],S=[],y=[];for(let P=0;P<o;P+=1){_.push(0);const x=new Float32Array(g),k=new Float32Array(g);x.fill(0),k.fill(0),S.push(x),y.push(k)}p.onaudioprocess=P=>{const x=P.inputBuffer,k=P.outputBuffer,A=x.numberOfChannels;for(let C=0;C<A;C+=1){const O=x.getChannelData(C),R=k.getChannelData(C);_[C]=Jp(d,m,f,v,M,S[C],y[C],_[C],g,O,R)}};const w=s.sampleRate/2;return gs({get bufferSize(){return h},get channelCount(){return p.channelCount},set channelCount(P){p.channelCount=P},get channelCountMode(){return p.channelCountMode},set channelCountMode(P){p.channelCountMode=P},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(P){p.channelInterpretation=P},get context(){return p.context},get inputs(){return[p]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},addEventListener(...P){return p.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return p.dispatchEvent(P[0])},getFrequencyResponse(P,x,k){if(P.length!==x.length||x.length!==k.length)throw t();const A=P.length;for(let C=0;C<A;C+=1){const O=-Math.PI*(P[C]/w),R=[Math.cos(O),Math.sin(O)],W=Qd(f,R),$=Qd(d,R),z=RP(W,$);x[C]=Math.sqrt(z[0]*z[0]+z[1]*z[1]),k[C]=Math.atan2(z[1],z[0])}},removeEventListener(...P){return p.removeEventListener(P[0],P[1],P[2])}},p)},VP=(t,e)=>t.createMediaElementSource(e.mediaElement),LP=(t,e)=>{const n=t.createMediaStreamDestination();return Oe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},$P=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},zP=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},WP=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,UP=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return Oe(l,a),_e(l,a,"detune"),_e(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):ce(l,a,"type"),e(n,()=>n(o))||qc(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||Hc(l),t(o,l),l},BP=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Oe(r,n),_e(r,n,"orientationX"),_e(r,n,"orientationY"),_e(r,n,"orientationZ"),_e(r,n,"positionX"),_e(r,n,"positionY"),_e(r,n,"positionZ"),ce(r,n,"coneInnerAngle"),ce(r,n,"coneOuterAngle"),ce(r,n,"coneOuterGain"),ce(r,n,"distanceModel"),ce(r,n,"maxDistance"),ce(r,n,"panningModel"),ce(r,n,"refDistance"),ce(r,n,"rolloffFactor"),r)},qP=(t,e,n,r,s,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:m,maxDistance:v,orientationX:M,orientationY:p,orientationZ:g,panningModel:_,positionX:S,positionY:y,positionZ:w,refDistance:T,rolloffFactor:P,...x})=>{const k=c.createPanner();if(x.channelCount>2||x.channelCountMode==="max")throw o();Oe(k,x);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},C=n(c,{...A,channelInterpretation:"speakers",numberOfInputs:6}),O=r(c,{...x,gain:1}),R=r(c,{...A,gain:1}),W=r(c,{...A,gain:0}),$=r(c,{...A,gain:0}),z=r(c,{...A,gain:0}),N=r(c,{...A,gain:0}),b=r(c,{...A,gain:0}),I=s(c,256,6,1),V=i(c,{...A,curve:new Float32Array([1,1]),oversample:"none"});let B=[M,p,g],De=[S,y,w];const Me=new Float32Array(1);I.onaudioprocess=({inputBuffer:U})=>{const Zn=[l(U,Me,0),l(U,Me,1),l(U,Me,2)];Zn.some((Cr,xr)=>Cr!==B[xr])&&(k.setOrientation(...Zn),B=Zn);const Kn=[l(U,Me,3),l(U,Me,4),l(U,Me,5)];Kn.some((Cr,xr)=>Cr!==De[xr])&&(k.setPosition(...Kn),De=Kn)},Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"defaultValue",{get:()=>0});const G={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(U){if(U>2)throw o();O.channelCount=U,k.channelCount=U},get channelCountMode(){return k.channelCountMode},set channelCountMode(U){if(U==="max")throw o();O.channelCountMode=U,k.channelCountMode=U},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(U){O.channelInterpretation=U,k.channelInterpretation=U},get coneInnerAngle(){return k.coneInnerAngle},set coneInnerAngle(U){k.coneInnerAngle=U},get coneOuterAngle(){return k.coneOuterAngle},set coneOuterAngle(U){k.coneOuterAngle=U},get coneOuterGain(){return k.coneOuterGain},set coneOuterGain(U){if(U<0||U>1)throw e();k.coneOuterGain=U},get context(){return k.context},get distanceModel(){return k.distanceModel},set distanceModel(U){k.distanceModel=U},get inputs(){return[O]},get maxDistance(){return k.maxDistance},set maxDistance(U){if(U<0)throw new RangeError;k.maxDistance=U},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get orientationX(){return R.gain},get orientationY(){return W.gain},get orientationZ(){return $.gain},get panningModel(){return k.panningModel},set panningModel(U){k.panningModel=U},get positionX(){return z.gain},get positionY(){return N.gain},get positionZ(){return b.gain},get refDistance(){return k.refDistance},set refDistance(U){if(U<0)throw new RangeError;k.refDistance=U},get rolloffFactor(){return k.rolloffFactor},set rolloffFactor(U){if(U<0)throw new RangeError;k.rolloffFactor=U},addEventListener(...U){return O.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return O.dispatchEvent(U[0])},removeEventListener(...U){return O.removeEventListener(U[0],U[1],U[2])}};h!==G.coneInnerAngle&&(G.coneInnerAngle=h),d!==G.coneOuterAngle&&(G.coneOuterAngle=d),f!==G.coneOuterGain&&(G.coneOuterGain=f),m!==G.distanceModel&&(G.distanceModel=m),v!==G.maxDistance&&(G.maxDistance=v),M!==G.orientationX.value&&(G.orientationX.value=M),p!==G.orientationY.value&&(G.orientationY.value=p),g!==G.orientationZ.value&&(G.orientationZ.value=g),_!==G.panningModel&&(G.panningModel=_),S!==G.positionX.value&&(G.positionX.value=S),y!==G.positionY.value&&(G.positionY.value=y),w!==G.positionZ.value&&(G.positionZ.value=w),T!==G.refDistance&&(G.refDistance=T),P!==G.rolloffFactor&&(G.rolloffFactor=P),(B[0]!==1||B[1]!==0||B[2]!==0)&&k.setOrientation(...B),(De[0]!==0||De[1]!==0||De[2]!==0)&&k.setPosition(...De);const K=()=>{O.connect(k),t(O,V,0,0),V.connect(R).connect(C,0,0),V.connect(W).connect(C,0,1),V.connect($).connect(C,0,2),V.connect(z).connect(C,0,3),V.connect(N).connect(C,0,4),V.connect(b).connect(C,0,5),C.connect(I).connect(c.destination)},Ae=()=>{O.disconnect(k),a(O,V,0,0),V.disconnect(R),R.disconnect(C),V.disconnect(W),W.disconnect(C),V.disconnect($),$.disconnect(C),V.disconnect(z),z.disconnect(C),V.disconnect(N),N.disconnect(C),V.disconnect(b),b.disconnect(C),C.disconnect(I),I.disconnect(c.destination)};return u(gs(G,k),K,Ae)},HP=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},Di=(t,e,n,r)=>t.createScriptProcessor(e,n,r),GP=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return Oe(i,r),_e(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},QP=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(m,v,M,p)=>{const g=new Float32Array(16385),_=new Float32Array(16385);for(let x=0;x<16385;x+=1){const k=x/16384*l;g[x]=Math.cos(k),_[x]=Math.sin(k)}const S=n(m,{...u,gain:0}),y=r(m,{...c,curve:g}),w=r(m,{...c,curve:a}),T=n(m,{...u,gain:0}),P=r(m,{...c,curve:_});return{connectGraph(){v.connect(S),v.connect(w.inputs===void 0?w:w.inputs[0]),v.connect(T),w.connect(M),M.connect(y.inputs===void 0?y:y.inputs[0]),M.connect(P.inputs===void 0?P:P.inputs[0]),y.connect(S.gain),P.connect(T.gain),S.connect(p,0,0),T.connect(p,0,1)},disconnectGraph(){v.disconnect(S),v.disconnect(w.inputs===void 0?w:w.inputs[0]),v.disconnect(T),w.disconnect(M),M.disconnect(y.inputs===void 0?y:y.inputs[0]),M.disconnect(P.inputs===void 0?P:P.inputs[0]),y.disconnect(S.gain),P.disconnect(T.gain),S.disconnect(p,0,0),T.disconnect(p,0,1)}}},d=(m,v,M,p)=>{const g=new Float32Array(16385),_=new Float32Array(16385),S=new Float32Array(16385),y=new Float32Array(16385),w=Math.floor(16385/2);for(let z=0;z<16385;z+=1)if(z>w){const N=(z-w)/(16384-w)*l;g[z]=Math.cos(N),_[z]=Math.sin(N),S[z]=0,y[z]=1}else{const N=z/(16384-w)*l;g[z]=1,_[z]=0,S[z]=Math.cos(N),y[z]=Math.sin(N)}const T=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),P=n(m,{...u,gain:0}),x=r(m,{...c,curve:g}),k=n(m,{...u,gain:0}),A=r(m,{...c,curve:_}),C=r(m,{...c,curve:a}),O=n(m,{...u,gain:0}),R=r(m,{...c,curve:S}),W=n(m,{...u,gain:0}),$=r(m,{...c,curve:y});return{connectGraph(){v.connect(T),v.connect(C.inputs===void 0?C:C.inputs[0]),T.connect(P,0),T.connect(k,0),T.connect(O,1),T.connect(W,1),C.connect(M),M.connect(x.inputs===void 0?x:x.inputs[0]),M.connect(A.inputs===void 0?A:A.inputs[0]),M.connect(R.inputs===void 0?R:R.inputs[0]),M.connect($.inputs===void 0?$:$.inputs[0]),x.connect(P.gain),A.connect(k.gain),R.connect(O.gain),$.connect(W.gain),P.connect(p,0,0),O.connect(p,0,0),k.connect(p,0,1),W.connect(p,0,1)},disconnectGraph(){v.disconnect(T),v.disconnect(C.inputs===void 0?C:C.inputs[0]),T.disconnect(P,0),T.disconnect(k,0),T.disconnect(O,1),T.disconnect(W,1),C.disconnect(M),M.disconnect(x.inputs===void 0?x:x.inputs[0]),M.disconnect(A.inputs===void 0?A:A.inputs[0]),M.disconnect(R.inputs===void 0?R:R.inputs[0]),M.disconnect($.inputs===void 0?$:$.inputs[0]),x.disconnect(P.gain),A.disconnect(k.gain),R.disconnect(O.gain),$.disconnect(W.gain),P.disconnect(p,0,0),O.disconnect(p,0,0),k.disconnect(p,0,1),W.disconnect(p,0,1)}}},f=(m,v,M,p,g)=>{if(v===1)return h(m,M,p,g);if(v===2)return d(m,M,p,g);throw s()};return(m,{channelCount:v,channelCountMode:M,pan:p,...g})=>{if(M==="max")throw s();const _=t(m,{...g,channelCount:1,channelCountMode:M,numberOfInputs:2}),S=n(m,{...g,channelCount:v,channelCountMode:M,gain:1}),y=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:p});let{connectGraph:w,disconnectGraph:T}=f(m,v,S,y,_);Object.defineProperty(y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(y.gain,"maxValue",{get:()=>1}),Object.defineProperty(y.gain,"minValue",{get:()=>-1});const P={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(C){S.channelCount!==C&&(x&&T(),{connectGraph:w,disconnectGraph:T}=f(m,C,S,y,_),x&&w()),S.channelCount=C},get channelCountMode(){return S.channelCountMode},set channelCountMode(C){if(C==="clamped-max"||C==="max")throw s();S.channelCountMode=C},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(C){S.channelInterpretation=C},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return y.gain},addEventListener(...C){return S.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return S.dispatchEvent(C[0])},removeEventListener(...C){return S.removeEventListener(C[0],C[1],C[2])}};let x=!1;const k=()=>{w(),x=!0},A=()=>{T(),x=!1};return i(gs(P,_),k,A)}},XP=(t,e,n,r,s,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Oe(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();ce(u,{curve:c},"curve"),ce(u,l,"oversample");let h=null,d=!1;return o(u,"curve",v=>()=>v.call(u),v=>M=>(v.call(u,M),d&&(r(M)&&h===null?h=t(a,u):!r(M)&&h!==null&&(h(),h=null)),M)),s(u,()=>{d=!0,r(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},YP=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();Oe(u,l),Oe(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),f=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let v=null,M=!1,p=null;const g={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(y){h.channelCount=y,d.channelCount=y,u.channelCount=y,f.channelCount=y,c.channelCount=y,m.channelCount=y},get channelCountMode(){return u.channelCountMode},set channelCountMode(y){h.channelCountMode=y,d.channelCountMode=y,u.channelCountMode=y,f.channelCountMode=y,c.channelCountMode=y,m.channelCountMode=y},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(y){h.channelInterpretation=y,d.channelInterpretation=y,u.channelInterpretation=y,f.channelInterpretation=y,c.channelInterpretation=y,m.channelInterpretation=y},get context(){return u.context},get curve(){return p},set curve(y){if(y!==null&&y.length<2)throw e();if(y===null)u.curve=y,c.curve=y;else{const w=y.length,T=new Float32Array(w+2-w%2),P=new Float32Array(w+2-w%2);T[0]=y[0],P[0]=-y[w-1];const x=Math.ceil((w+1)/2),k=(w+1)/2-1;for(let A=1;A<x;A+=1){const C=A/x*k,O=Math.floor(C),R=Math.ceil(C);T[A]=O===R?y[O]:(1-(C-O))*y[O]+(1-(R-C))*y[R],P[A]=O===R?-y[w-1-O]:-((1-(C-O))*y[w-1-O])-(1-(R-C))*y[w-1-R]}T[x]=w%2===1?y[x-1]:(y[x-2]+y[x-1])/2,u.curve=T,c.curve=P}p=y,M&&(r(p)&&v===null?v=t(i,h):v!==null&&(v(),v=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(y){u.oversample=y,c.oversample=y},addEventListener(...y){return h.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return h.dispatchEvent(y[0])},removeEventListener(...y){return h.removeEventListener(y[0],y[1],y[2])}};o!==null&&(g.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==g.oversample&&(g.oversample=a);const _=()=>{h.connect(u).connect(f),h.connect(d).connect(c).connect(m).connect(f),M=!0,r(p)&&(v=t(i,h))},S=()=>{h.disconnect(u),u.disconnect(f),h.disconnect(d),d.disconnect(c),c.disconnect(m),m.disconnect(f),M=!1,v!==null&&(v(),v=null)};return s(gs(g,f),_,S)},nt=()=>new DOMException("","NotSupportedError"),ZP={numberOfChannels:1},KP=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...ZP,...u},f=r(h,c,d);e(hi,()=>hi(f))||f.addEventListener("statechange",(()=>{let m=0;const v=M=>{this._state==="running"&&(m>0?(f.removeEventListener("statechange",v),M.stopImmediatePropagation(),this._waitForThePromiseToSettle(M)):m+=1)};return v})()),super(f,h),this._length=c,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Gp(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},JP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},e3=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...JP,...u},d=n(c,h),f=i(c),m=f?r():null,v=l.sampleRate/2;super(l,!1,d,m),this._detune=e(this,f,d.detune,153600,-153600),this._frequency=e(this,f,d.frequency,v,-v),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){os(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),on(this)&&Ei(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},t3=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const f=Xe(d,h);if(!f){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,m),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),f?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await r(h,c.detune,d.detune),await r(h,c.frequency,d.frequency)),await s(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},n3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},r3=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...n3,...u},d=n(c,h),f=i(c),m=f?r():null;super(l,!1,d,m),this._nativePannerNode=d,this._orientationX=e(this,f,d.orientationX,Ze,st),this._orientationY=e(this,f,d.orientationY,Ze,st),this._orientationZ=e(this,f,d.orientationZ,Ze,st),this._positionX=e(this,f,d.positionX,Ze,st),this._positionY=e(this,f,d.positionY,Ze,st),this._positionZ=e(this,f,d.positionZ,Ze,st),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},s3=(t,e,n,r,s,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(f,m)=>{let v=null,M=i(f);const p={channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation},g={...p,coneInnerAngle:M.coneInnerAngle,coneOuterAngle:M.coneOuterAngle,coneOuterGain:M.coneOuterGain,distanceModel:M.distanceModel,maxDistance:M.maxDistance,panningModel:M.panningModel,refDistance:M.refDistance,rolloffFactor:M.rolloffFactor},_=Xe(M,m);if("bufferSize"in M)v=r(m,{...p,gain:1});else if(!_){const S={...g,orientationX:M.orientationX.value,orientationY:M.orientationY.value,orientationZ:M.orientationZ.value,positionX:M.positionX.value,positionY:M.positionY.value,positionZ:M.positionZ.value};M=s(m,S)}if(c.set(m,v===null?M:v),v!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new o(6,f.context.length,m.sampleRate),C=e(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});C.connect(A.destination),h=(async()=>{const O=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(R,W)=>{const $=n(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W===0?1:0});return await a(A,R,$.offset),$}));for(let R=0;R<6;R+=1)O[R].connect(C,0,R),O[R].start(0);return u(A)})()}const S=await h,y=r(m,{...p,gain:1});await l(f,m,y);const w=[];for(let A=0;A<S.numberOfChannels;A+=1)w.push(S.getChannelData(A));let T=[w[0][0],w[1][0],w[2][0]],P=[w[3][0],w[4][0],w[5][0]],x=r(m,{...p,gain:1}),k=s(m,{...g,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:P[0],positionY:P[1],positionZ:P[2]});y.connect(x).connect(k.inputs[0]),k.connect(v);for(let A=128;A<S.length;A+=128){const C=[w[0][A],w[1][A],w[2][A]],O=[w[3][A],w[4][A],w[5][A]];if(C.some((R,W)=>R!==T[W])||O.some((R,W)=>R!==P[W])){T=C,P=O;const R=A/m.sampleRate;x.gain.setValueAtTime(0,R),x=r(m,{...p,gain:0}),k=s(m,{...g,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:P[0],positionY:P[1],positionZ:P[2]}),x.gain.setValueAtTime(1,R),y.connect(x).connect(k.inputs[0]),k.connect(v)}}return v}return _?(await t(m,f.orientationX,M.orientationX),await t(m,f.orientationY,M.orientationY),await t(m,f.orientationZ,M.orientationZ),await t(m,f.positionX,M.positionX),await t(m,f.positionY,M.positionY),await t(m,f.positionZ,M.positionZ)):(await a(m,f.orientationX,M.orientationX),await a(m,f.orientationY,M.orientationY),await a(m,f.orientationZ,M.orientationZ),await a(m,f.positionX,M.positionX),await a(m,f.positionY,M.positionY),await a(m,f.positionZ,M.positionZ)),ps(M)?await l(f,m,M.inputs[0]):await l(f,m,M),M};return{render(f,m){const v=c.get(m);return v!==void 0?Promise.resolve(v):d(f,m)}}},i3={disableNormalization:!1},o3=(t,e,n,r)=>class r1{constructor(i,o){const a=e(i),l=r({...i3,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===r1.prototype||n.has(i)}},a3=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),l3=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,s),f=r.context.destination;!n(u)&&(r!==f||!n(r))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},u3=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,s);n(a)||c.connect(i,l)}))},c3=(t,e,n,r)=>s=>t(hi,()=>hi(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),h3=t=>(e,n)=>{t.set(e,n)},d3=t=>(e,n)=>t.set(e,n),f3=(t,e,n,r,s,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>s(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),Wc(c)):e(i,()=>i(c))||a(c),t.add(c),c)),m3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},p3=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...m3,...l},h=n(u,c),d=i(u),f=d?r():null;super(a,!1,h,f),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},g3=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Xe(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),ps(u)?await s(a,l,u.inputs[0]):await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},v3=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},_3=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},y3=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},M3=()=>new DOMException("","UnknownError"),P3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},w3=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...P3,...u},d=n(c,h),m=i(c)?r():null;super(l,!0,d,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},S3=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Xe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),ps(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},T3=()=>typeof window>"u"?null:window,A3=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)r[h]=u[h+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=r[h]}},k3=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},C3=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},x3=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},s1=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),i1=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Ri=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},N3=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),E3=t=>({...t,channelCount:t.numberOfOutputs}),b3=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},o1=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;o1(t,e,n+1e-7)}},O3=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},I3=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},D3=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Gc=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},a1=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Qc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},R3=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},j3=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},l1=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),gs(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},vs=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},F3=r0(Tr),V3=u0(Tr),L3=PM(La),u1=new WeakMap,$3=LM(u1),zt=Z0(new Map,new WeakMap),Xt=T3(),c1=pP(zt,Yt),Xc=VM(Ke),Ue=l3(Ke,Xc,vr),z3=m0(c1,le,Ue),ie=WM(Va),gn=WP(Xt),ne=iP(gn),h1=new WeakMap,d1=bM(vs),ji=yP(Xt),Yc=tP(ji),Zc=nP(Xt),f1=rP(Xt),di=PP(Xt),Te=L0(s0($p),l0(F3,V3,na,L3,ra,Ke,$3,Ni,le,Tr,on,vr,Mo),zt,YM(xu,ra,Ke,le,ci,on),Yt,$a,nt,vM(na,xu,Ke,le,ci,ie,on,ne),TM(h1,Ke,$t),d1,ie,Yc,Zc,f1,ne,di),W3=f0(Te,z3,Yt,c1,ie,ne),Kc=new WeakSet,Xd=gP(Xt),m1=cM(new Uint32Array(1)),Jc=A3(m1,Yt),eh=k3(m1),p1=g0(Kc,zt,nt,Xd,gn,v3(Xd),Jc,eh),za=c0(ct),g1=u3(Xc,bi,vr),Zt=sM(g1),_s=_P(za,zt,O3,I3,D3,Gc,a1,Qc,j3,C3(Ri),l1),Kt=a3($M(bi),g1),U3=y0(Zt,_s,le,Kt,Ue),Wt=$0(i0(zp),h1,zc,z0,Zy,Ky,Jy,e0,t0,Au,Vp,ji,o1),B3=_0(Te,U3,Wt,Fe,_s,ie,ne,vs),q3=x0(Te,N0,Yt,Fe,MP(ct,Ri),ie,ne,Ue),H3=Y0(Zt,t1,le,Kt,Ue),Ar=d3(u1),G3=X0(Te,Wt,H3,$a,t1,ie,ne,Ar),Xn=fP(Tr,Zc),Q3=x3(Fe,Xn),Yn=xP(ji,Q3),X3=eM(Yn,le,Ue),Y3=J0(Te,X3,Yn,ie,ne),Z3=rM(Ii,le,Ue),K3=nM(Te,Z3,Ii,ie,ne,E3),J3=bP(za,_s,ct,Xn),ys=EP(za,zt,J3,Gc,Qc),ew=uM(Zt,ys,le,Kt,Ue),tw=lM(Te,Wt,ew,ys,ie,ne,vs),v1=OP(nt,Ri),nw=fM(v1,le,Ue),rw=dM(Te,nw,v1,ie,ne,Ar),sw=MM(Zt,n1,le,Kt,Ue),iw=yM(Te,Wt,sw,n1,ie,ne,Ar),_1=IP(nt),ow=xM(Zt,_1,le,Kt,Ue),aw=CM(Te,Wt,ow,_1,nt,ie,ne,Ar),lw=jM(Zt,ct,le,Kt,Ue),uw=RM(Te,Wt,lw,ct,ie,ne),cw=FP($a,Fe,Di,nt),Wa=c3(zt,ct,Di,y3(ct,gn)),hw=XM(_s,le,gn,Ue,Wa),dw=DP(cw),fw=GM(Te,dw,hw,ie,ne,Ar),mw=E0(Wt,Yn,ys,Di,nt,s1,ne,Ri),y1=new WeakMap,pw=dP(q3,mw,d1,ne,y1,vs),M1=UP(za,zt,Gc,a1,Qc,l1),gw=t3(Zt,M1,le,Kt,Ue),vw=e3(Te,Wt,M1,gw,ie,ne,vs),P1=oM(_s),_w=YP(P1,Fe,ct,i1,Xn),Ua=XP(P1,Fe,_w,i1,Xn,ji,Ri),yw=qP(na,Fe,Yn,ct,Di,Ua,nt,ra,s1,Xn),w1=BP(yw),Mw=s3(Zt,Yn,ys,ct,w1,le,gn,Kt,Ue,Wa),Pw=r3(Te,Wt,w1,Mw,ie,ne,Ar),ww=HP(Yt),Sw=o3(ww,ie,new WeakSet,b3),Tw=QP(Yn,Ii,ct,Ua,nt,Xn),S1=GP(Tw,nt),Aw=g3(Zt,S1,le,Kt,Ue),kw=p3(Te,Wt,S1,Aw,ie,ne),Cw=S3(Ua,le,Ue),xw=w3(Te,Fe,Ua,Cw,ie,ne,Ar),T1=oP(Xt),th=OM(Xt),A1=new WeakMap,Nw=UM(A1,gn),Ew=T1?a0(zt,nt,EM(Xt),th,IM(n0),ie,Nw,ne,di,new WeakMap,new WeakMap,_3(di,gn),Xt):void 0,bw=sP(Yc,ne),Ow=gM(Kc,zt,pM,NM,new WeakSet,ie,bw,ea,hi,Jc,eh),k1=G0(Ew,W3,p1,B3,G3,Y3,K3,tw,rw,Ow,iw,aw,uw,fw,pw,vw,Pw,Sw,kw,xw),Iw=aP(Te,VP,ie,ne),Dw=uP(Te,LP,ie,ne),Rw=cP(Te,$P,ie,ne),jw=zP(Fe,ne),Fw=hP(Te,jw,ie),Vw=C0(k1,Fe,nt,M3,Iw,Dw,Rw,Fw,ji),nh=BM(y1),Lw=h0(nh),C1=iM(Yt),$w=wM(nh),x1=AM(Yt),N1=new WeakMap,zw=FM(N1,$t),Ww=CP(C1,Yt,Fe,Yn,Ii,ys,ct,Di,nt,x1,th,zw,Xn),Uw=SP(Fe,Ww,ct,nt,Xn),Bw=H0(Zt,C1,_s,Yn,Ii,ys,ct,$w,x1,th,le,di,gn,Kt,Ue,Wa),qw=zM(A1),Hw=h3(N1),Yd=T1?U0(Lw,Te,Wt,Bw,Uw,Ke,qw,ie,ne,di,N3,Hw,R3,vs):void 0,Gw=mM(nt,gn),Qw=f3(Kc,zt,Xc,nh,Wa,ea,Jc,eh),Xw=KP(k1,zt,Fe,Gw,Qw),Yw=ZM(Va,Yc),Zw=KM($c,Zc),Kw=JM(zc,f1),Jw=eP(Va,ne);function kt(t){return t===void 0}function Y(t){return t!==void 0}function e7(t){return typeof t=="function"}function $n(t){return typeof t=="number"}function ur(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function t7(t){return typeof t=="boolean"}function pt(t){return Array.isArray(t)}function hn(t){return typeof t=="string"}function so(t){return hn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function H(t,e){if(!t)throw new Error(e)}function zn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function E1(t){!t.isOffline&&t.state!=="running"&&Ba('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let b1=!1,Zd=!1;function Kd(t){b1=t}function n7(t){kt(t)&&b1&&!Zd&&(Zd=!0,Ba("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let O1=console;function r7(...t){O1.log(...t)}function Ba(...t){O1.warn(...t)}function s7(t){return new Vw(t)}function i7(t,e,n){return new Xw(t,e,n)}const cr=typeof self=="object"?self:null,o7=cr&&(cr.hasOwnProperty("AudioContext")||cr.hasOwnProperty("webkitAudioContext"));function a7(t,e,n){return H(Y(Yd),"This node only works in a secure context (https or localhost)"),new Yd(t,e,n)}function Ut(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function xe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class l7{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function _r(t){return Kw(t)}function Fn(t){return Zw(t)}function Po(t){return Jw(t)}function Er(t){return Yw(t)}function u7(t){return t instanceof p1}function c7(t,e){return t==="value"||_r(e)||Fn(e)||u7(e)}function hr(t,...e){if(!e.length)return t;const n=e.shift();if(ur(t)&&ur(n))for(const r in n)c7(r,n[r])?t[r]=n[r]:ur(n[r])?(t[r]||Object.assign(t,{[r]:{}}),hr(t[r],n[r])):Object.assign(t,{[r]:n[r]});return hr(t,...e)}function h7(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function j(t,e,n=[],r){const s={},i=Array.from(e);if(ur(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(hr(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&ur(i[0]))hr(s,i[0]);else for(let o=0;o<n.length;o++)Y(i[o])&&(s[n[o]]=i[o]);return hr(t,s)}function d7(t){return t.constructor.getDefaults()}function Zr(t,e){return kt(t)?e:t}function Iu(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class vn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||cr&&this.toString()===cr.TONE_DEBUG_CLASS)&&r7(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}vn.version=Fp;const rh=1e-6;function as(t,e){return t>e+rh}function Du(t,e){return as(t,e)||Dt(t,e)}function aa(t,e){return t+rh<e}function Dt(t,e){return Math.abs(t-e)<rh}function f7(t,e,n){return Math.max(Math.min(t,n),e)}class Ct extends vn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=j(Ct.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(H(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];H(Du(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Dt(this._timeline[n].time,e)){for(let r=n;r>=0&&Dt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Du(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Dt(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Dt(c[n],e))o=u;else break}return o}else{if(aa(a[n],e)&&as(l[n],e))return o;as(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Dt(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Dt(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const I1=[];function qa(t){I1.push(t)}function m7(t){I1.forEach(e=>e(t))}const D1=[];function Ha(t){D1.push(t)}function p7(t){D1.forEach(e=>e(t))}class Fi extends vn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{kt(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(kt(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(kt(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Fi.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class R1 extends Fi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Vi extends R1{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ct,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=j(Vi.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=s7({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new l7(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(m7(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return H(Er(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return H(Er(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return H(Er(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){H(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){H(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){H(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){H(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return a7(this.rawContext,e,n)}addAudioWorkletModule(e){return xe(this,void 0,void 0,function*(){H(Y(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return xe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Er(this._context)?this._context.resume():Promise.resolve()}close(){return xe(this,void 0,void 0,function*(){Er(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&p7(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class g7 extends R1{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return xe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ye(t,e){pt(e)?e.forEach(n=>ye(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function j1(t,e){pt(e)?e.forEach(n=>j1(t,n)):Object.defineProperty(t,e,{writable:!0})}const te=()=>{};class re extends vn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=te;const e=j(re.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,hn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:te,onload:te,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Rt().sampleRate}set(e){return e instanceof re?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return xe(this,void 0,void 0,function*(){const n=re.load(e).then(r=>{this.set(r),this.onload(this)});re.downloads.push(n);try{yield n}finally{const r=re.downloads.indexOf(n);re.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=pt(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Rt(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if($n(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if($n(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){H(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);H(r<s,"The start time must be less than the end time");const i=s-r,o=Rt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new re(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new re().fromArray(e)}static fromUrl(e){return xe(this,void 0,void 0,function*(){return yield new re().load(e)})}static load(e){return xe(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const c of l)if(re.supportsType(c)){u=c;break}e=e.replace(n[0],u)}const r=re.baseUrl===""||re.baseUrl.endsWith("/")?re.baseUrl:re.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(s.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield Rt().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return xe(this,void 0,void 0,function*(){for(yield Promise.resolve();re.downloads.length;)yield re.downloads[0]})}}re.baseUrl="";re.downloads=[];class sh extends Vi{constructor(){super({clockSource:"offline",context:Po(arguments[0])?arguments[0]:i7(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Po(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Po(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return xe(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return xe(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new re(n)})}close(){return Promise.resolve()}}const F1=new g7;let ir=F1;function Rt(){return ir===F1&&o7&&v7(new Vi),ir}function v7(t,e=!1){e&&ir.dispose(),Er(t)?ir=new Vi(t):Po(t)?ir=new sh(t):ir=t}function _7(){return ir.resume()}if(cr&&!cr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Fp} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function y7(t){return Math.pow(10,t/20)}function M7(t){return 20*(Math.log(t)/Math.LN10)}function V1(t){return Math.pow(2,t/12)}let Ga=440;function P7(){return Ga}function w7(t){Ga=t}function or(t){return Math.round(L1(t))}function L1(t){return 69+12*Math.log2(t/Ga)}function $1(t){return Ga*Math.pow(2,(t-69)/12)}class ih extends vn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ih&&this.fromType(this._val),kt(this._val))return this._noArg();if(hn(this._val)&&kt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ur(this._val)){let e=0;for(const n in this._val)if(Y(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(Y(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return hn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class jt extends ih{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new jt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new jt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new jt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return or(this.toFrequency())}_now(){return this.context.now()}}class ft extends jt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return P7()}static set A4(e){w7(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:ft.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=S7[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:ft.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new ft(this.context,this.valueOf()*V1(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return or(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/ft.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),T7[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return $1(e)}static ftom(e){return or(e)}}const S7={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},T7=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class qs extends jt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ut extends vn{constructor(){super();const e=j(ut.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Rt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return n7(e),new jt(this.context,e).toSeconds()}toFrequency(e){return new ft(this.context,e).toFrequency()}toTicks(e){return new qs(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{kt(e[r])&&delete n[r]}),n}get(){const e=d7(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];Y(r)&&Y(r.value)&&Y(r.setValueAtTime)?e[n]=r.value:r instanceof ut?e[n]=r._getPartialProperties(e[n]):pt(r)||$n(r)||hn(r)||t7(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Y(this[n])&&(this[n]&&Y(this[n].value)&&Y(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof ut?this[n].set(e[n]):this[n]=e[n])}),this}}class oh extends Ct{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return zn(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class ue extends ut{constructor(){super(j(ue.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=j(ue.getDefaults(),arguments,["param","units","convert"]);for(H(Y(e.param)&&(_r(e.param)||e.param instanceof ue),"param must be an AudioParam");!_r(e.param);)e.param=e.param._param;this._swappable=Y(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ct(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Y(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ut.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Y(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Y(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Y(this.maxValue)&&Y(this.minValue)&&zn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?y7(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?M7(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return H(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return H(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Dt(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return H(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);H(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),H(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return H(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));H(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Dt(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){H(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class Q extends ut{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Y(this.input)?_r(this.input)||this.input instanceof ue?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Y(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Y(e)&&(e instanceof Q||Fn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();H(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Ms(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ba("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return A7(this,e,n,r),this}chain(...e){return Ru(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Y(this.input)&&(this.input instanceof Q?this.input.dispose():Fn(this.input)&&this.input.disconnect()),Y(this.output)&&(this.output instanceof Q?this.output.dispose():Fn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ru(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Q?n.connect(r):Fn(n)&&Ms(n,r),r),e)}function Ms(t,e,n=0,r=0){for(H(Y(t),"Cannot connect from undefined node"),H(Y(e),"Cannot connect to undefined node"),(e instanceof Q||Fn(e))&&H(e.numberOfInputs>0,"Cannot connect to node with no inputs"),H(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Q||e instanceof ue;)Y(e.input)&&(e=e.input);for(;t instanceof Q;)Y(t.output)&&(t=t.output);_r(e)?t.connect(e,n):t.connect(e,n,r)}function A7(t,e,n=0,r=0){if(Y(e))for(;e instanceof Q;)e=e.input;for(;!Fn(t);)Y(t.output)&&(t=t.output);_r(e)?t.disconnect(e,n):Fn(e)?t.disconnect(e,n,r):t.disconnect()}class ze extends Q{constructor(){super(j(ze.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=j(ze.getDefaults(),arguments,["gain","units"]);this.gain=new ue({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ye(this,"gain")}static getDefaults(){return Object.assign(Q.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ls extends Q{constructor(e){super(e),this.onended=te,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ze({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Q.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:te})}_startGain(e,n=1){H(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){H(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==te&&(this.onended(this),this.onended=te,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),H(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=te,this}}class la extends ls{constructor(){super(j(la.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=j(la.getDefaults(),arguments,["offset"]);Ms(this._source,this._gainNode),this.offset=new ue({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ls.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ie extends Q{constructor(){super(j(Ie.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=j(Ie.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new la({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Q.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return ah(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ah(t,e,n,r){(e instanceof ue||_r(e)||e instanceof Ie&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ie&&(e.overridden=!0)),Ms(t,e,n,r)}class ua extends ue{constructor(){super(j(ua.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Ct(1/0),this._multiplier=1;const e=j(ua.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ue.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,u=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(kt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,u=(-s-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class ca extends Ie{constructor(){super(j(ca.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=j(ca.getDefaults(),arguments,["value"]);this.input=this._param=new ua({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ie.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ha extends ut{constructor(){super(j(ha.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new oh,this._tickOffset=new Ct,this._ticksAtTime=new Ct,this._secondsAtTime=new Ct;const e=j(ha.getDefaults(),arguments,["frequency"]);this.frequency=new ca({context:this.context,units:e.units,value:e.frequency}),ye(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ut.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Y(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),u=a-l;let c=Math.ceil(u)-u;c=Dt(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{r(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class fi extends ut{constructor(){super(j(fi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=te,this._lastUpdate=0,this._state=new oh("stopped"),this._boundLoop=this._loop.bind(this);const e=j(fi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ha({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ye(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ut.getDefaults(),{callback:te,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){E1(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Fi.mixin(fi);class lh extends vn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=j(lh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:te,onload:te,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return H(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=te,s=te){return hn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new re(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new re(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class da extends ft{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return or(super._frequencyToUnits(e))}_ticksToUnits(e){return or(super._ticksToUnits(e))}_beatsToUnits(e){return or(super._beatsToUnits(e))}_secondsToUnits(e){return or(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return $1(this.toMidi())}transpose(e){return new da(this.context,this.toMidi()+e)}}class Br extends qs{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class k7 extends ut{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ct,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}qa(t=>{t.draw=new k7({context:t})});Ha(t=>{t.draw.dispose()});class C7 extends vn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){H(Y(e.time),"Events must have a time property"),H(Y(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new x7(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class x7{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class yr extends Q{constructor(){super(j(yr.getDefaults(),arguments,["volume"])),this.name="Volume";const e=j(yr.getDefaults(),arguments,["volume"]);this.input=this.output=new ze({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ye(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Q.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class fa extends Q{constructor(){super(j(fa.getDefaults(),arguments)),this.name="Destination",this.input=new yr({context:this.context}),this.output=new ze({context:this.context}),this.volume=this.input.volume;const e=j(fa.getDefaults(),arguments);Ru(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Q.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ru(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}qa(t=>{t.destination=new fa({context:t})});Ha(t=>{t.destination.dispose()});class N7 extends vn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ct({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class us extends Q{constructor(){super(Object.assign(j(us.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return ah(this,e,n,r),this}}class cs extends us{constructor(){super(Object.assign(j(cs.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=j(cs.getDefaults(),arguments,["mapping","length"]);pt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):e7(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ie.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));H(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ma extends us{constructor(){super(Object.assign(j(ma.getDefaults(),arguments,["value"]))),this.name="Pow";const e=j(ma.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new cs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(us.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Wn{constructor(e,n){this.id=Wn._eventId++,this._remainderTime=0;const r=Object.assign(Wn.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:te,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Wn._eventId=0;class uh extends Wn{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(uh.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Wn.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return aa(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Br(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){aa(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Br(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);as(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class mi extends ut{constructor(){super(j(mi.getDefaults(),arguments)),this.name="Transport",this._loop=new N7(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ct,this._repeatedEvents=new C7,this._syncedSignals=[],this._swingAmount=0;const e=j(mi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new fi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ye(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ut.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Br(this.context,this._swingTicks*2/3).toSeconds()*s}Kd(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Kd(!1)}schedule(e,n){const r=new Wn(this,{callback:e,time:new qs(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new uh(this,{callback:e,duration:new jt(this.context,s).toTicks(),interval:new jt(this.context,n).toTicks(),time:new qs(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Wn(this,{callback:e,once:!0,time:new qs(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Br(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return Y(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){pt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new jt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new jt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Br(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Br(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new ze(l),c=new ma(-1),h=new ze(l);s.chain(u,c,h),s=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const a=new ze(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),j1(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Fi.mixin(mi);qa(t=>{t.transport=new mi({context:t})});Ha(t=>{t.transport.dispose()});class _t extends Q{constructor(e){super(e),this.input=void 0,this._state=new oh("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=te,this._syncedStop=te,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new yr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ye(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Q.getDefaults(),{mute:!1,onstop:te,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=kt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")H(as(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(Zr(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else E1(this.context),this._start(s,n,r);return this}stop(e){let n=kt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Y(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(as(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=te,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class pi extends ls{constructor(){super(j(pi.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=j(pi.getDefaults(),arguments,["url","onload"]);Ms(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ue({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new re(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ls.getDefaults(),{url:new re,loop:!1,loopEnd:0,loopStart:0,onload:te,onerror:te,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){H(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=Zr(n,this.loopStart):n=Zr(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Du(o,a)&&(o=(o-l)%u+l),Dt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,aa(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Y(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function kr(t,e){return xe(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new sh(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class pa extends ls{constructor(){super(j(pa.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=j(pa.getDefaults(),arguments,["frequency","type"]);Ms(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ue({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ue({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ye(this,["frequency","detune"])}static getDefaults(){return Object.assign(ls.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class we extends _t{constructor(){super(j(we.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=j(we.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ie({context:this.context,units:"frequency",value:e.frequency}),ye(this,"frequency"),this.detune=new Ie({context:this.context,units:"cents",value:e.detune}),ye(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(_t.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new pa({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return we._periodicWaveCache.find(n=>n.phase===this._phase&&h7(n.partials,this._partials));{const e=we._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Y(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),we._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),we._periodicWaveCache.length>100&&we._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){zn(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return f7(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}we._periodicWaveCache=[];class E7 extends us{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new cs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Mr extends Ie{constructor(){super(Object.assign(j(Mr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=j(Mr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ze({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ie.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class gi extends _t{constructor(){super(j(gi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new E7({context:this.context}),this._modulationNode=new ze({context:this.context});const e=j(gi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new we({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new we({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Mr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ye(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(we.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class vi extends _t{constructor(){super(j(vi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ze({context:this.context,gain:0});const e=j(vi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new we({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ie({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new we({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Mr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Mr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ye(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(we.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class hs extends _t{constructor(){super(j(hs.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ze({context:this.context,gain:0}),this._thresh=new cs({context:this.context,mapping:n=>n<=0?-1:1});const e=j(hs.getDefaults(),arguments,["frequency","width"]);this.width=new Ie({context:this.context,units:"audioRange",value:e.width}),this._triangle=new we({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ye(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(_t.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class _i extends _t{constructor(){super(j(_i.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=j(_i.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ie({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ye(this,["frequency","detune"])}static getDefaults(){return Object.assign(we.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(zn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new we({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):te});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class yi extends _t{constructor(){super(j(yi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Mr({context:this.context,value:2});const e=j(yi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new hs({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new we({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ye(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(_t.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Jd={am:gi,fat:_i,fm:vi,oscillator:we,pulse:hs,pwm:yi};class Mi extends _t{constructor(){super(j(Mi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=j(Mi.getDefaults(),arguments,["frequency","type"]);this.frequency=new Ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ie({context:this.context,units:"cents",value:e.detune}),ye(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(we.getDefaults(),vi.getDefaults(),gi.getDefaults(),_i.getDefaults(),hs.getDefaults(),yi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Jd[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Jd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&$n(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&$n(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&hn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return xe(this,void 0,void 0,function*(){return kr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function z1(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){zn(i,t,e),n.set(this,i)}})}}function _n(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){zn(this.toSeconds(i),t,e),n.set(this,i)}})}}class Pi extends _t{constructor(){super(j(Pi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=j(Pi.getDefaults(),arguments,["url","onload"]);this._buffer=new re({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(_t.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:te,onerror:te,playbackRate:1,reverse:!1})}load(e){return xe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=te){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Zr(n,this._loopStart):n=Zr(n,0);const s=this.toSeconds(n),i=r;r=Zr(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new pi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&kt(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&zn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&zn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ut([_n(0)],Pi.prototype,"fadeIn",void 0);Ut([_n(0)],Pi.prototype,"fadeOut",void 0);class dn extends Q{constructor(){super(j(dn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Ie({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=j(dn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Q.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(hn(e))return e;{let r;for(r in io)if(io[r][n]===e)return r;return e}}_setCurve(e,n,r){if(hn(r)&&Reflect.has(io,r)){const s=io[r];ur(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(pt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(H(pt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return ah(this,e,n,r),this}asArray(e=1024){return xe(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new sh(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ut([_n(0)],dn.prototype,"attack",void 0);Ut([_n(0)],dn.prototype,"decay",void 0);Ut([z1(0,1)],dn.prototype,"sustain",void 0);Ut([_n(0)],dn.prototype,"release",void 0);const io=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/(128-1)*(Math.PI/2));const s=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=d/10+n*.83}s[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const l=[];for(e=0;e<128;e++)n=e/(128-1),l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/(128-1);const d=Math.pow(n,3)*4+.2,f=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(f*(1-n))}function c(d){const f=new Array(d.length);for(let m=0;m<d.length;m++)f[m]=1-d[m];return f}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:c(s)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class fn extends Q{constructor(){super(j(fn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=j(fn.getDefaults(),arguments);this._volume=this.output=new yr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ye(this,"volume")}static getDefaults(){return Object.assign(Q.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Un extends fn{constructor(){super(j(Un.getDefaults(),arguments));const e=j(Un.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(fn.getDefaults(),{detune:0,onsilence:te,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof ft?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}Ut([_n(0)],Un.prototype,"portamento",void 0);class ch extends dn{constructor(){super(j(ch.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ze({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Bn extends Un{constructor(){super(j(Bn.getDefaults(),arguments)),this.name="Synth";const e=j(Bn.getDefaults(),arguments);this.oscillator=new Mi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ch(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ye(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Un.getDefaults(),{envelope:Object.assign(Iu(dn.getDefaults(),Object.keys(Q.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Iu(Mi.getDefaults(),[...Object.keys(_t.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class wi extends Bn{constructor(){super(j(wi.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=j(wi.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ye(this,["oscillator","envelope"])}static getDefaults(){return hr(Un.getDefaults(),Bn.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof ft?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ut([z1(0)],wi.prototype,"octaves",void 0);Ut([_n(0)],wi.prototype,"pitchDecay",void 0);const W1=new Set;function hh(t){W1.add(t)}function U1(t,e){const n=`registerProcessor("${t}", ${e})`;W1.add(n)}const b7=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;hh(b7);const O7=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;hh(O7);const I7=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;hh(I7);const D7="feedback-comb-filter",R7=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;U1(D7,R7);class ga extends fn{constructor(){super(j(ga.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=s=>this.releaseAll(s);const e=j(ga.getDefaults(),arguments,["voice","options"]);H(!$n(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(fn.getDefaults(),{maxPolyphony:32,options:{},voice:Bn})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return H(e instanceof Un,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Ba("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(s=>{const i=new da(this.context,s).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(s,n,r),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",s,n))})}_triggerRelease(e,n){e.forEach(r=>{const s=new da(this.context,r).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===s&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,s){H(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,s):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,s)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("attack",e,s,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r);if(this.triggerAttack(e,i,s),pt(n)){H(pt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);H(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);H(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Iu(e,["onsilence","context"]);return this.options=hr(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Si extends fn{constructor(){super(j(Si.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=j(Si.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(H(so(r)||$n(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),so(r)){const i=new ft(this.context,r).toMidi();n[i]=e.urls[r]}else $n(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new lh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(fn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:te,onerror:te,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=L1(new ft(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=V1(l+a),d=new pi({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,r),pt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),m=f.indexOf(d);m!==-1&&f.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new ft(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),pt(n)?(H(pt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(H(so(e)||isFinite(e),`note must be a pitch or midi: ${e}`),so(e)){const s=new ft(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ut([_n(0)],Si.prototype,"attack",void 0);Ut([_n(0)],Si.prototype,"release",void 0);class va extends Q{constructor(){super(Object.assign(j(va.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=j(va.getDefaults(),arguments,["pan"]);this.pan=new ue({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ye(this,"pan")}static getDefaults(){return Object.assign(Q.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const j7="bit-crusher",F7=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;U1(j7,F7);class Pe extends Q{constructor(){super(j(Pe.getDefaults(),arguments,["solo"])),this.name="Solo";const e=j(Pe.getDefaults(),arguments,["solo"]);this.input=this.output=new ze({context:this.context}),Pe._allSolos.has(this.context)||Pe._allSolos.set(this.context,new Set),Pe._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Q.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Pe._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Pe._soloed.has(this.context)||Pe._soloed.set(this.context,new Set),Pe._soloed.get(this.context).add(this)}_removeSolo(){Pe._soloed.has(this.context)&&Pe._soloed.get(this.context).delete(this)}_isSoloed(){return Pe._soloed.has(this.context)&&Pe._soloed.get(this.context).has(this)}_noSolos(){return!Pe._soloed.has(this.context)||Pe._soloed.has(this.context)&&Pe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Pe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Pe._allSolos=new Map;Pe._soloed=new Map;class _a extends Q{constructor(){super(j(_a.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=j(_a.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new va({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new yr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ye(this,["pan","volume"])}static getDefaults(){return Object.assign(Q.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class tr extends Q{constructor(){super(j(tr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=j(tr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Pe({solo:e.solo,context:this.context}),this._panVol=this.output=new _a({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ye(this,["pan","volume"])}static getDefaults(){return Object.assign(Q.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return tr.buses.has(e)||tr.buses.set(e,new ze({context:this.context})),tr.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new ze({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}tr.buses=new Map;class V7 extends Q{constructor(){super(...arguments),this.name="Listener",this.positionX=new ue({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ue({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ue({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ue({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ue({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ue({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ue({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ue({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ue({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Q.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}qa(t=>{t.listener=new V7({context:t})});Ha(t=>{t.listener.dispose()});Rt().transport;Rt().destination;Rt().destination;Rt().listener;Rt().draw;const L7=Rt();function ef(){return re.loaded()}class $7{constructor(){this.synth=new ga(Bn).toDestination(),this.synth.volume.value=-10,this.context=L7}async init(){await _7(),console.log("Audio engine initialized")}playNote(e){ef().then(()=>{this.synth.triggerAttackRelease(e,"8n")})}playChord(e,n="2n"){ef().then(()=>{this.synth.releaseAll(),this.synth.triggerAttackRelease(e,n)})}stopAll(){this.synth.releaseAll()}playMetronome(){const e=new Bn({oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.1}}).toDestination();e.volume.value=-20,e.triggerAttackRelease("C6","32n")}}const Pr=new $7;const z7=({onNoteClick:t,selectedNotes:e,chordPositions:n=[],selectedOctave:r=5})=>{ke.useEffect(()=>{Pr.init()},[]);const s=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=[4,5],o=(l,u)=>{const c=["key",l.includes("#")?"black":"white",e.includes(l)?"active":"",u===r?"current-octave":""],h=n.find(d=>d.note===l);return h&&(c.push("chord-position"),c.push(`position-${h.position}`)),c.filter(Boolean).join(" ")},a=(l,u)=>{const c=`${l}${u}`;Pr.playNote(c),t(l)};return D.jsx("div",{className:"piano-container",children:D.jsx("div",{className:"piano",children:i.map(l=>D.jsx("div",{className:"octave",children:s.map(u=>{const c=u.includes("#");return D.jsxs("div",{className:o(u,l),onClick:()=>a(u,l),"data-note":`${u}${l}`,children:[D.jsx("span",{className:`note-name ${c?"black-key":"white-key"}`,children:u}),n.find(h=>h.note===u)&&D.jsx("span",{className:"position-indicator",children:n.find(h=>h.note===u).position})]},`${u}${l}`)})},l))})})};var W7=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],U7=W7;({...vt});var dh=[],wo={};function B7(){return dh.slice()}function q7(t,e,n){const r=G7(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};dh.push(s),s.name&&(wo[s.name]=s),wo[s.setNum]=s,wo[s.chroma]=s,s.aliases.forEach(i=>H7(s,i))}function H7(t,e){wo[e]=t}function G7(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}U7.forEach(([t,e,n])=>q7(t.split(" "),n.split(" "),e));dh.sort((t,e)=>t.setNum-e.setNum);var Q7=t=>{const e=t.reduce((n,r)=>{const s=Qe(r).chroma;return s!==void 0&&(n[s]=n[s]||Qe(r).name),n},{});return n=>e[n]};function X7(t,e={}){const n=t.map(s=>Qe(s).pc).filter(s=>s);return Qe.length===0?[]:nS(n,1,e).filter(s=>s.weight).sort((s,i)=>i.weight-s.weight).map(s=>s.name)}var Qa={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Xa=t=>e=>!!(e&t),Y7=Xa(Qa.anyThirds),Z7=Xa(Qa.perfectFifth),K7=Xa(Qa.anySeventh),J7=Xa(Qa.nonPerfectFifths);function eS(t){const e=parseInt(t.chroma,2);return Y7(e)&&Z7(e)&&K7(e)}function tS(t){const e=parseInt(t,2);return J7(e)?t:(e|16).toString(2)}function nS(t,e,n){const r=t[0],s=Qe(r).chroma,i=Q7(t),o=Oy(t,!1),a=[];return o.forEach((l,u)=>{const c=n.assumePerfectFifth&&tS(l);B7().filter(d=>n.assumePerfectFifth&&eS(d)?d.chroma===c:d.chroma===l).forEach(d=>{const f=d.aliases[0],m=i(u);u!==s?a.push({weight:.5*e,name:`${m}${f}/${r}`}):a.push({weight:1*e,name:`${m}${f}`})})}),a}function B1(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function q1(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var H1=[0,2,4,-1,1,3,5],G1=H1.map(t=>Math.floor(t*7/12));function Q1(t){const{step:e,alt:n,oct:r,dir:s=1}=t,i=H1[e]+7*n;if(r===void 0)return[s*i];const o=r-G1[e]-4*n;return[s*i,s*o]}var rS=[3,0,4,1,5,2,6];function X1(t){const[e,n,r]=t,s=rS[sS(e)],i=Math.floor((e+1)/7);if(n===void 0)return{step:s,alt:i,dir:r};const o=n+4*i+G1[s];return{step:s,alt:i,oct:o,dir:r}}function sS(t){const e=(t+1)%7;return e<0?7+e:e}var tf=(t,e)=>Array(Math.abs(e)+1).join(t),ju={empty:!0,name:"",acc:""},iS="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",oS="(AA|A|P|M|m|d|dd)([-+]?\\d+)",aS=new RegExp("^"+iS+"|"+oS+"$");function lS(t){const e=aS.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var nf={};function ya(t){return typeof t=="string"?nf[t]||(nf[t]=uS(t)):q1(t)?ya(dS(t)):B1(t)?ya(t.name):ju}var rf=[0,2,4,5,7,9,11],Y1="PMMPPMM";function uS(t){const e=lS(t);if(e[0]==="")return ju;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,i=Y1[s];if(i==="M"&&r==="P")return ju;const o=i==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(s+1),c=hS(o,r),h=Math.floor((Math.abs(n)-1)/7),d=l*(rf[s]+c+12*h),f=(l*(rf[s]+c)%12+12)%12,m=Q1({step:s,alt:c,oct:h,dir:l});return{empty:!1,name:a,num:n,q:r,step:s,alt:c,dir:l,type:o,simple:u,semitones:d,chroma:f,coord:m,oct:h}}function cS(t,e){const[n,r=0]=t,s=n*7+r*12<0,i=e||s?[-n,-r,-1]:[n,r,1];return ya(X1(i))}function hS(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function dS(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const i=e+1+7*r,o=i===0?e+1:i,a=s<0?"-":"",l=Y1[e]==="M"?"majorable":"perfectable";return a+o+fS(l,n)}function fS(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?tf("A",e):tf("d",t==="perfectable"?e:e+1)}var sf=(t,e)=>Array(Math.abs(e)+1).join(t),Z1={empty:!0,name:"",pc:"",acc:""},of=new Map,mS=t=>"CDEFGAB".charAt(t),pS=t=>t<0?sf("b",-t):sf("#",t),gS=t=>t[0]==="b"?-t.length:t.length;function qn(t){const e=JSON.stringify(t),n=of.get(e);if(n)return n;const r=typeof t=="string"?MS(t):q1(t)?qn(PS(t)):B1(t)?qn(t.name):Z1;return of.set(e,r),r}var vS=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function K1(t){const e=vS.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function _S(t){return qn(X1(t))}var yS=(t,e)=>(t%e+e)%e,Al=[0,2,4,5,7,9,11];function MS(t){const e=K1(t);if(e[0]===""||e[3]!=="")return Z1;const n=e[0],r=e[1],s=e[2],i=(n.charCodeAt(0)+3)%7,o=gS(r),a=s.length?+s:void 0,l=Q1({step:i,alt:o,oct:a}),u=n+r+s,c=n+r,h=(Al[i]+o+120)%12,d=a===void 0?yS(Al[i]+o,12)-12*99:Al[i]+o+12*(a+1),f=d>=0&&d<=127?d:null,m=a===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:h,coord:l,freq:m,height:d,letter:n,midi:f,name:u,oct:a,pc:c,step:i}}function PS(t){const{step:e,alt:n,oct:r}=t,s=mS(e);if(!s)return"";const i=s+pS(n);return r||r===0?i+r:i}function wS(t,e){const n=qn(t),r=Array.isArray(e)?e:ya(e).coord;if(n.empty||!r||r.length<2)return"";const s=n.coord,i=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return _S(i).name}function SS(t,e){const n=qn(t),r=qn(e);if(n.empty||r.empty)return"";const s=n.coord,i=r.coord,o=i[0]-s[0],a=s.length===2&&i.length===2?i[1]-s[1]:-Math.floor(o*7/12),l=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return cS([o,a],l).name}var TS=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],AS=TS,kS={...vt,name:"",quality:"Unknown",intervals:[],aliases:[]},J1=[],Hs={};function CS(t){return Hs[t]||kS}function xS(t,e,n){const r=ES(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};J1.push(s),s.name&&(Hs[s.name]=s),Hs[s.setNum]=s,Hs[s.chroma]=s,s.aliases.forEach(i=>NS(s,i))}function NS(t,e){Hs[e]=t}function ES(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}AS.forEach(([t,e,n])=>xS(t.split(" "),n.split(" "),e));J1.sort((t,e)=>t.setNum-e.setNum);var Fu={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function bS(t){const[e,n,r,s]=K1(t);return e===""?["",t]:e==="A"&&s==="ug"?["","aug"]:[e+n,r+s]}function Vu(t){if(t==="")return Fu;if(Array.isArray(t)&&t.length===2)return kl(t[1],t[0]);{const[e,n]=bS(t),r=kl(n,e);return r.empty?kl(t):r}}function kl(t,e,n){const r=CS(t),s=qn(e||""),i=qn(n||"");if(r.empty||e&&s.empty||n&&i.empty)return Fu;const o=SS(s.pc,i.pc),a=r.intervals.indexOf(o)+1;if(!i.empty&&!a)return Fu;const l=Array.from(r.intervals);for(let d=1;d<a;d++){const f=l[0][0],m=l[0][1],v=parseInt(f,10)+7;l.push(`${v}${m}`),l.shift()}const u=s.empty?[]:l.map(d=>wS(s,d));t=r.aliases.indexOf(t)!==-1?t:r.aliases[0];const c=`${s.empty?"":s.pc}${t}${i.empty||a<=1?"":"/"+i.pc}`,h=`${e?s.pc+" ":""}${r.name}${a>1&&n?" over "+i.pc:""}`;return{...r,name:h,symbol:c,type:r.name,root:i.name,intervals:l,rootDegree:a,tonic:s.name,notes:u}}const OS=({notes:t})=>{const e=t.length>0?X7(t)[0]||"Unknown Chord":"Select notes to form a chord";return D.jsxs("div",{className:"chord-display",children:[D.jsx("h2",{children:"Current Chord:"}),D.jsx("div",{className:"chord-name",children:e}),D.jsxs("div",{className:"notes",children:["Notes: ",t.join(", ")||"None"]})]})};var IS=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],DS=IS;({...vt});var eg=[],So={};function RS(t,e,n){const r=FS(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};eg.push(s),s.name&&(So[s.name]=s),So[s.setNum]=s,So[s.chroma]=s,s.aliases.forEach(i=>jS(s,i))}function jS(t,e){So[e]=t}function FS(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}DS.forEach(([t,e,n])=>RS(t.split(" "),n.split(" "),e));eg.sort((t,e)=>t.setNum-e.setNum);function tg(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function ng(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var rg=[0,2,4,-1,1,3,5],VS=rg.map(t=>Math.floor(t*7/12));function LS(t){const{step:e,alt:n,oct:r,dir:s=1}=t,i=rg[e]+7*n;if(r===void 0)return[s*i];const o=r-VS[e]-4*n;return[s*i,s*o]}var af=(t,e)=>Array(Math.abs(e)+1).join(t),Lu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),$S="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",zS="(AA|A|P|M|m|d|dd)([-+]?\\d+)",WS=new RegExp("^"+$S+"|"+zS+"$");function US(t){const e=WS.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var lf={};function $u(t){return typeof t=="string"?lf[t]||(lf[t]=BS(t)):ng(t)?$u(HS(t)):tg(t)?$u(t.name):Lu}var uf=[0,2,4,5,7,9,11],sg="PMMPPMM";function BS(t){const e=US(t);if(e[0]==="")return Lu;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,i=sg[s];if(i==="M"&&r==="P")return Lu;const o=i==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(s+1),c=qS(o,r),h=Math.floor((Math.abs(n)-1)/7),d=l*(uf[s]+c+12*h),f=(l*(uf[s]+c)%12+12)%12,m=LS({step:s,alt:c,oct:h,dir:l});return{empty:!1,name:a,num:n,q:r,step:s,alt:c,dir:l,type:o,simple:u,semitones:d,chroma:f,coord:m,oct:h}}function qS(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function HS(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const i=e+1+7*r,o=i===0?e+1:i,a=s<0?"-":"",l=sg[e]==="M"?"majorable":"perfectable";return a+o+GS(l,n)}function GS(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?af("A",e):af("d",t==="perfectable"?e:e+1)}var ig={empty:!0,name:"",chordType:""},cf={};function Ma(t){return typeof t=="string"?cf[t]||(cf[t]=KS(t)):typeof t=="number"?Ma(fh[t]||""):ng(t)?QS(t):tg(t)?Ma(t.name):ig}function QS(t){return Ma(Fc(t.alt)+fh[t.step])}var XS=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function YS(t){return XS.exec(t)||["","","",""]}var ZS="I II III IV V VI VII",fh=ZS.split(" ");function KS(t){const[e,n,r,s]=YS(t);if(!r)return ig;const i=r.toUpperCase(),o=fh.indexOf(i),a=Ep(n),l=1;return{empty:!1,name:e,roman:r,interval:$u({step:o,alt:a,dir:l}).name,acc:n,chordType:s,alt:a,step:o,major:r===i,oct:0,dir:l}}var Ve=Object.freeze([]),JS={type:"major",tonic:"",alteration:0,keySignature:""},e5={tonic:"",grades:Ve,intervals:Ve,scale:Ve,triads:Ve,chords:Ve,chordsHarmonicFunction:Ve,chordScales:Ve,secondaryDominants:Ve,secondaryDominantSupertonics:Ve,substituteDominantsMinorRelative:Ve,substituteDominants:Ve,substituteDominantSupertonics:Ve,secondaryDominantsMinorRelative:Ve},t5={...JS,...e5,type:"major",minorRelative:"",scale:Ve,substituteDominants:Ve,secondaryDominantSupertonics:Ve,substituteDominantsMinorRelative:Ve},Cl=(t,e,n="")=>e.map((r,s)=>`${t[s]}${n}${r}`);function n5(t,e,n,r,s){return i=>{const o=t.map(f=>Ma(f).interval||""),a=o.map(f=>Us(i,f)),l=Cl(a,n),u=a.map(f=>Us(f,"5P")).map(f=>a.includes(f)&&!l.includes(f+"7")?f+"7":""),c=hf(u,e),h=u.map(f=>{if(!f)return"";const m=f.slice(0,-1);return Us(m,"5d")+"7"}),d=hf(h,e);return{tonic:i,grades:t,intervals:o,scale:a,triads:Cl(a,e),chords:l,chordsHarmonicFunction:r.slice(),chordScales:Cl(a,s," "),secondaryDominants:u,secondaryDominantSupertonics:c,substituteDominants:h,substituteDominantSupertonics:d,secondaryDominantsMinorRelative:c,substituteDominantsMinorRelative:d}}}var hf=(t,e)=>t.map((n,r)=>{if(!n)return"";const s=n.slice(0,-1),i=Us(s,"5P");return e[r].endsWith("m")?i+"m7":i+"m7b5"}),r5=(t,e)=>{const n=Qe(t),r=Qe(e);return n.empty||r.empty?0:r.coord[0]-n.coord[0]},s5=n5("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(","));function i5(t){const e=Qe(t).pc;if(!e)return t5;const n=s5(e),r=r5("C",e);return{...n,type:"major",minorRelative:Us(e,"-3m"),alteration:r,keySignature:Fc(r)}}var mh=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],df={...vt,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},o5=mh.map(a5),zu={};o5.forEach(t=>{zu[t.name]=t,t.aliases.forEach(e=>{zu[e]=t})});function og(t){return typeof t=="string"?zu[t.toLowerCase()]||df:t&&t.name?og(t.name):df}function a5(t){const[e,n,r,s,i,o,a]=t,l=a?[a]:[],u=Number(n).toString(2);return{empty:!1,intervals:jp(s).intervals,modeNum:e,chroma:u,normalized:u,name:s,setNum:n,alt:r,triad:i,seventh:o,aliases:l}}function ag(t){return(e,n)=>{const r=og(e);if(r.empty)return[];const s=jc(r.modeNum,t),i=r.intervals.map(o=>Vc(n,o));return s.map((o,a)=>i[a]+o)}}ag(mh.map(t=>t[4]));ag(mh.map(t=>t[5]));var l5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],u5=l5;({...vt});var lg=[],To={};function c5(t,e,n){const r=d5(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};lg.push(s),s.name&&(To[s.name]=s),To[s.setNum]=s,To[s.chroma]=s,s.aliases.forEach(i=>h5(s,i))}function h5(t,e){To[e]=t}function d5(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}u5.forEach(([t,e,n])=>c5(t.split(" "),n.split(" "),e));lg.sort((t,e)=>t.setNum-e.setNum);var f5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],m5=f5;({...vt});var ug=[],Ao={};function p5(t,e,n){const r=v5(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};ug.push(s),s.name&&(Ao[s.name]=s),Ao[s.setNum]=s,Ao[s.chroma]=s,s.aliases.forEach(i=>g5(s,i))}function g5(t,e){Ao[e]=t}function v5(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}m5.forEach(([t,e,n])=>p5(t.split(" "),n.split(" "),e));ug.sort((t,e)=>t.setNum-e.setNum);var _5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],y5=_5;({...vt});var cg=[],ko={};function M5(t,e,n){const r=w5(t),s={...pn(t),name:n||"",quality:r,intervals:t,aliases:e};cg.push(s),s.name&&(ko[s.name]=s),ko[s.setNum]=s,ko[s.chroma]=s,s.aliases.forEach(i=>P5(s,i))}function P5(t,e){ko[e]=t}function w5(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}y5.forEach(([t,e,n])=>M5(t.split(" "),n.split(" "),e));cg.sort((t,e)=>t.setNum-e.setNum);const S5=({keyNote:t,scaleType:e,onNoteClick:n,selectedOctave:r=5})=>{const s=Fa(`${t} ${e}`),i=(a,l)=>({0:"I (Tonic)",1:"II (Supertonic)",2:"III (Mediant)",3:"IV (Subdominant)",4:"V (Dominant)",5:"VI (Submediant)",6:"VII (Leading Tone)"})[l],o=a=>{const l=`${a}${r}`;Pr.playNote(l),n&&n(a)};return D.jsx("div",{className:"scale-display",children:D.jsxs("div",{className:"scale-info",children:[D.jsxs("h3",{children:[t," ",e," Scale"]}),D.jsx("div",{className:"scale-notes",children:s.notes.map((a,l)=>D.jsxs("div",{className:"scale-note-container",onClick:()=>o(a),children:[D.jsx("div",{className:"scale-note",children:a}),D.jsx("div",{className:"scale-degree",children:i(a,l)})]},a))})]})})},Co={"I-IV-V":{name:"I-IV-V",description:"Classic progression",degrees:[1,4,5]},"I-V-vi-IV":{name:"I-V-vi-IV",description:"Pop progression",degrees:[1,5,6,4]},"ii-V-I":{name:"ii-V-I",description:"Jazz progression",degrees:[2,5,1]},"I-vi-IV-V":{name:"I-vi-IV-V",description:"50s progression",degrees:[1,6,4,5]},"vi-IV-I-V":{name:"vi-IV-I-V",description:"Minor pop progression",degrees:[6,4,1,5]}};const T5=({keyNote:t,scaleType:e,selectedProgression:n,onChordClick:r,selectedOctave:s=5})=>{if(!n)return null;const i=Co[n],o=Fa(`${t} ${e}`),l=(()=>!o||!o.notes||!i?[]:i.degrees.map(c=>{const h=o.notes[(c-1)%7],d=e==="major"?[1,4,5].includes(c)?"maj":c===7?"dim":"min":c===3?"maj":"min";return{symbol:`${h}${d}`,notes:Vu(`${h}${d}`).notes}}))(),u=c=>{if(!c||!c.notes)return;const h=c.notes.map(d=>`${d}${s}`);Pr.playChord(h),r(c.notes)};return D.jsxs("div",{className:"chord-progression",children:[D.jsx("div",{className:"progression-header",children:D.jsxs("h3",{children:["Progression: ",i.name]})}),D.jsx("p",{children:i.description}),D.jsx("div",{className:"progression-chords",children:l.map((c,h)=>D.jsx("div",{className:"progression-chord",onClick:()=>u(c),children:c.symbol},h))})]})};const A5=({isPlaying:t,tempo:e=120,onTempoChange:n})=>{const[r,s]=ke.useState(0),[i,o]=ke.useState(null),[a,l]=ke.useState(!1),u=ke.useCallback(()=>{Pr.playMetronome(),s(h=>(h+1)%4)},[]);ke.useEffect(()=>{if(t||a){const h=setInterval(u,60/e*1e3);o(h)}else i&&(clearInterval(i),o(null),s(0));return()=>{i&&clearInterval(i)}},[t,a,e,u]);const c=()=>{l(!a)};return D.jsxs("div",{className:"metronome",children:[D.jsx("div",{className:"tempo-control",children:D.jsxs("label",{children:["Tempo: ",e," BPM",D.jsx("input",{type:"range",min:"60",max:"180",value:e,onChange:h=>n(Number(h.target.value))})]})}),D.jsxs("button",{className:`metronome-toggle ${a?"active":""}`,onClick:c,children:[a?"Stop":"Start"," Metronome"]}),D.jsx("div",{className:"beat-indicator",children:[0,1,2,3].map(h=>D.jsx("div",{className:`beat ${r===h?"active":""}`},h))})]})};const k5=({currentChord:t,keyNote:e,scaleType:n,onChordClick:r,selectedOctave:s=4})=>{const i=()=>{if(!e)return[];const l=i5(e),u=Fa(`${e} ${n}`),c=[],h=[0,3,4].map(f=>l.chords[f]),d=[1,2,5].map(f=>l.chords[f]);return[6].map(f=>l.chords[f]),u.notes.forEach((f,m)=>{const v=l.chords[m];let M="weak-compatibility";h.includes(v)?M="strong-compatibility":d.includes(v)&&(M="medium-compatibility"),c.push({symbol:v,notes:Vu(v).notes,category:M})}),c},o=l=>{const u=Vu(l.symbol).notes.map(c=>`${c}${s}`);Pr.playChord(u),r(l.notes)},a=i();return D.jsxs("div",{className:"chord-compatibility",children:[D.jsx("h3",{children:"Chord Suggestions"}),D.jsx("div",{className:"compatibility-grid",children:a.map(l=>D.jsx("button",{className:`compatibility-chord ${l.category}`,onClick:()=>o(l),children:l.symbol},l.symbol))}),D.jsxs("div",{className:"compatibility-legend",children:[D.jsx("span",{className:"legend-item strong-compatibility",children:"Primary (I, IV, V)"}),D.jsx("span",{className:"legend-item medium-compatibility",children:"Secondary (ii, iii, vi)"}),D.jsx("span",{className:"legend-item weak-compatibility",children:"Tension (vii°)"})]})]})};function C5(){const[t,e]=ke.useState([]),[n,r]=ke.useState("C"),[s,i]=ke.useState("major"),[o,a]=ke.useState(""),[l,u]=ke.useState([]),[c,h]=ke.useState(!0),[d,f]=ke.useState(-10),[m,v]=ke.useState(5),[M,p]=ke.useState(120),g=["C","G","D","A","E","B","F#","C#","G#","D#","A#","F"],_=["major","minor","dorian","mixolydian","pentatonic"];ke.useEffect(()=>{if(o){const A=Co[o],C=Fa(`${n} ${s}`).notes,O=A.degrees.map((R,W)=>({note:C[(R-1)%7],position:W+1}));u(O)}else u([])},[n,s,o]),ke.useEffect(()=>{Pr.synth.volume.value=d},[d]);const S=A=>{const C=A;e(O=>O.includes(C)?O.filter(R=>R!==C):[...O,C])},y=A=>{e(A)},w=A=>({C:"Am",G:"Em",D:"Bm",A:"F#m",E:"C#m",B:"G#m","F#":"D#m","C#":"A#m","G#":"Fm","D#":"Cm","A#":"Gm",F:"Dm"})[A],T=(A,C=!1)=>{r(A),i(C?"minor":"major")},P=()=>{e([]),u([])},x=()=>D.jsxs("div",{className:"circle-of-fifths",children:[g.map((A,C)=>D.jsx("button",{className:`circle-note major ${n===A&&s==="major"?"selected":""}`,onClick:()=>{T(A,!1),n&&n!==A&&handleCircleTransition(n,A)},style:{"--angle":`${C*30}deg`},children:A},A)),g.map((A,C)=>{const O=w(A),R=O.replace("m","");return D.jsx("button",{className:`circle-note minor ${n===R&&s==="minor"?"selected":""}`,onClick:()=>T(R,!0),style:{"--angle":`${C*30}deg`},children:O},O)})]}),k=()=>D.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",children:D.jsx("path",{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8z"})});return D.jsxs("div",{className:"app",children:[D.jsx("h1",{children:"Chord Picker"}),D.jsxs("div",{className:"main-controls",children:[D.jsxs("button",{className:"circle-toggle",onClick:()=>h(!c),children:[D.jsx(k,{}),D.jsxs("span",{children:[c?"Hide":"Show"," Circle of Fifths"]})]}),D.jsxs("div",{className:"scale-controls",children:[D.jsx("select",{value:s,onChange:A=>i(A.target.value),children:_.map(A=>D.jsx("option",{value:A,children:A},A))}),D.jsxs("select",{value:o,onChange:A=>a(A.target.value),children:[D.jsx("option",{value:"",children:"Select Progression"}),Object.keys(Co).map(A=>D.jsx("option",{value:A,children:Co[A].name},A))]})]})]}),c&&D.jsx("div",{className:"circle-container",children:x()}),D.jsx(S5,{keyNote:n,scaleType:s,onNoteClick:S,selectedOctave:m}),D.jsxs("div",{className:"metronome-section",children:[D.jsx("h3",{children:"Metronome"}),D.jsx(A5,{tempo:M,onTempoChange:p,standalone:!0})]}),D.jsx(T5,{keyNote:n,scaleType:s,selectedProgression:o,onChordClick:y,selectedOctave:m}),D.jsx(k5,{currentChord:t[0],keyNote:n,scaleType:s,onChordClick:y,selectedOctave:m}),D.jsxs("div",{className:"piano-section",children:[D.jsxs("div",{className:"piano-controls",children:[D.jsxs("div",{className:"control-group",children:[D.jsxs("label",{htmlFor:"volume",children:["Volume",D.jsxs("span",{className:"volume-display",children:[d,"dB"]})]}),D.jsx("input",{id:"volume",type:"range",min:"-40",max:"0",value:d,onChange:A=>f(Number(A.target.value))})]}),D.jsxs("div",{className:"control-group",children:[D.jsx("label",{children:"Octave"}),D.jsxs("select",{value:m,onChange:A=>v(Number(A.target.value)),children:[D.jsx("option",{value:4,children:"Low (4)"}),D.jsx("option",{value:5,children:"High (5)"})]})]}),D.jsx("button",{className:"reset-button",onClick:P,title:"Clear selected notes",children:"Reset Notes"})]}),D.jsx(z7,{onNoteClick:S,selectedNotes:t,chordPositions:l,selectedOctave:m})]}),D.jsx(OS,{notes:t})]})}xl.createRoot(document.getElementById("root")).render(D.jsx(bg.StrictMode,{children:D.jsx(C5,{})}));
